<!--
doc/src/sgml/ref/pg_restore.sgml
PostgreSQL documentation
-->

<refentry id="app-pgrestore">
<!-- pgdoc-cn_start sig_en=ff2deda258eb1d8514b0c8387fd4a3ef sig_cn_org=None source=14.1 
 <indexterm zone="app-pgrestore">
  <primary>pg_restore</primary>
 </indexterm>
________________________________________________________-->
 <indexterm zone="app-pgrestore">
  <primary>pg_restore</primary>
 </indexterm>
<!-- pgdoc-cn_end sig_en=ff2deda258eb1d8514b0c8387fd4a3ef -->

 <refmeta>
  <refentrytitle><application>pg_restore</application></refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>Application</refmiscinfo>
 </refmeta>

<!-- pgdoc-cn_start sig_en=c9a4ed2a520ea85854ef37ff7e567d5f sig_cn_org=None source=14.1 
 <refnamediv>
  <refname>pg_restore</refname>

  <refpurpose>
   restore a <productname>PostgreSQL</productname> database from an
   archive file created by <application>pg_dump</application>
  </refpurpose>
 </refnamediv>
________________________________________________________-->
 <refnamediv>
  <refname>pg_restore</refname>

  <refpurpose>
   从一个由<application>pg_dump</application>创建的归档文件恢复一个<productname>PostgreSQL</productname>数据库
  </refpurpose>
 </refnamediv>
<!-- pgdoc-cn_end sig_en=c9a4ed2a520ea85854ef37ff7e567d5f -->

 <refsynopsisdiv>
  <cmdsynopsis>
   <command>pg_restore</command>
   <arg rep="repeat"><replaceable>connection-option</replaceable></arg>
   <arg rep="repeat"><replaceable>option</replaceable></arg>
   <arg choice="opt"><replaceable>filename</replaceable></arg>
  </cmdsynopsis>
 </refsynopsisdiv>


 <refsect1 id="app-pgrestore-description">
<!-- pgdoc-cn_start sig_en=59d6e86f3a60db4f1e08d0d6e639924e sig_cn_org=None source=14.1 
  <title>Description</title>
________________________________________________________-->
  <title>描述</title>
<!-- pgdoc-cn_end sig_en=59d6e86f3a60db4f1e08d0d6e639924e -->

<!-- pgdoc-cn_start sig_en=3d699a68c2270ba4cba2ef746a4fd871 sig_cn_org=None source=14.1 
  <para>
   <application>pg_restore</application> is a utility for restoring a
   <productname>PostgreSQL</productname> database from an archive
   created by <xref linkend="app-pgdump"/> in one of the non-plain-text
   formats.  It will issue the commands necessary to reconstruct the
   database to the state it was in at the time it was saved.  The
   archive files also allow <application>pg_restore</application> to
   be selective about what is restored, or even to reorder the items
   prior to being restored. The archive files are designed to be
   portable across architectures.
  </para>
________________________________________________________-->
  <para>
   <application>pg_restore</application>是一个用来从<xref linkend="app-pgdump"/>创建的非文本格式归档恢复<productname>PostgreSQL</productname>数据库的工具。它将发出必要的命令把该数据库重建成它被保存时的状态。这些归档文件还允许<application>pg_restore</application>选择恢复哪些内容或者在恢复前对恢复项重排序。这些归档文件被设计为可以在不同的架构之间迁移。
  </para>
<!-- pgdoc-cn_end sig_en=3d699a68c2270ba4cba2ef746a4fd871 -->

<!-- pgdoc-cn_start sig_en=e65669ef4bba6a762e695b4ae730ba46 sig_cn_org=None source=14.1 
  <para>
   <application>pg_restore</application> can operate in two modes.
   If a database name is specified, <application>pg_restore</application>
   connects to that database and restores archive contents directly into
   the database.  Otherwise, a script containing the SQL
   commands necessary to rebuild the database is created and written
   to a file or standard output.  This script output is equivalent to
   the plain text output format of <application>pg_dump</application>.
   Some of the options controlling the output are therefore analogous to
   <application>pg_dump</application> options.
  </para>
________________________________________________________-->
  <para>
   <application>pg_restore</application>可以在两种模式下操作。如果指定了一个数据库名称，<application>pg_restore</application>会连接那个数据库并且把归档内容直接恢复到该数据库中。否则，会创建一个脚本，其中包含着重建该数据库所必要的 SQL 命令，它会被写入到一个文件或者标准输出。这个脚本输出等效于<application>pg_dump</application>的纯文本输出格式。因此，一些控制输出的选项与<application>pg_dump</application>的选项类似。
  </para>
<!-- pgdoc-cn_end sig_en=e65669ef4bba6a762e695b4ae730ba46 -->

<!-- pgdoc-cn_start sig_en=173cc16896e1cff23726b831b036a180 sig_cn_org=None source=14.1 
  <para>
   Obviously, <application>pg_restore</application> cannot restore information
   that is not present in the archive file.  For instance, if the
   archive was made using the <quote>dump data as
   <command>INSERT</command> commands</quote> option,
   <application>pg_restore</application> will not be able to load the data
   using <command>COPY</command> statements.
  </para>
________________________________________________________-->
  <para>
   显然，<application>pg_restore</application>无法恢复不在归档文件中的信息。例如，如果归档使用<quote>以<command>INSERT</command>命令转储数据</quote>选项创建， <application>pg_restore</application>将无法使用<command>COPY</command>语句装载数据。
  </para>
<!-- pgdoc-cn_end sig_en=173cc16896e1cff23726b831b036a180 -->
 </refsect1>

 <refsect1 id="app-pgrestore-options">
<!-- pgdoc-cn_start sig_en=ee3f399228d18d2103d5b7f4e0aeeba8 sig_cn_org=None source=14.1 
  <title>Options</title>
________________________________________________________-->
  <title>选项</title>
<!-- pgdoc-cn_end sig_en=ee3f399228d18d2103d5b7f4e0aeeba8 -->

<!-- pgdoc-cn_start sig_en=f52ee76801f8faac4d46fd6c5cba8f25 sig_cn_org=80d72723e9a8bf50b6e674fb2eb1a83f source=15.7 
   <para>
    <application>pg_restore</application> accepts the following command
    line arguments.

    <variablelist>
     <varlistentry>
________________________________________________________-->
   <para>
    <application>pg_restore</application>接受以下命令行参数。

    <variablelist>
     <varlistentry>
<!-- pgdoc-cn_end sig_en=f52ee76801f8faac4d46fd6c5cba8f25 -->
      <term><replaceable class="parameter">filename</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=2bc4c717f0f58f05c345037bcfc01f04 sig_cn_org=05aabe1c08c24717191723395f998e0c source=15.7 
       <para>
       Specifies the location of the archive file (or directory, for a
       directory-format archive) to be restored.
       If not specified, the standard input is used.
       </para>
________________________________________________________-->
       <para>
       指定要恢复的存档文件（或目录，对于目录格式的存档）的位置。
       如果未指定，则使用标准输入。
       </para>
<!-- pgdoc-cn_end sig_en=2bc4c717f0f58f05c345037bcfc01f04 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-a</option></term>
      <term><option>--data-only</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=ceb076288973c9b4fed1a35b234bfcbe sig_cn_org=a4a248732b5befa36abfef69e1e9ae75 source=15.7 
       <para>
        Restore only the data, not the schema (data definitions).
        Table data, large objects, and sequence values are restored,
        if present in the archive.
       </para>
________________________________________________________-->
       <para>
        仅恢复数据，而不是模式（数据定义）。
        如果存档中存在，将恢复表数据、大对象和序列值。
       </para>
<!-- pgdoc-cn_end sig_en=ceb076288973c9b4fed1a35b234bfcbe -->

<!-- pgdoc-cn_start sig_en=8ee96cd6763c514b06061648663c8a90 sig_cn_org=9e840e3c01f0e552348ade77dad5cda2 source=15.7 
       <para>
        This option is similar to, but for historical reasons not identical
        to, specifying <option>-&minus;section=data</option>.
       </para>
________________________________________________________-->
       <para>
        这个选项类似于，但出于历史原因并不完全相同于，指定<option>--section=data</option>。
       </para>
<!-- pgdoc-cn_end sig_en=8ee96cd6763c514b06061648663c8a90 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-c</option></term>
      <term><option>--clean</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=0d3ad7dd77f5eaa225969c1012cc47bd sig_cn_org=108c059c8f670e6a1b442329d5037929 source=15.7 
       <para>
        Before restoring database objects, issue commands
        to <command>DROP</command> all the objects that will be restored.
        This option is useful for overwriting an existing database.
        If any of the objects do not exist in the destination database,
        ignorable error messages will be reported,
        unless <option>-&minus;if-exists</option> is also specified.
       </para>
________________________________________________________-->
       <para>
        在恢复数据库对象之前，发出命令以<command>DROP</command>所有将被恢复的对象。
        此选项对覆盖现有数据库很有用。
        如果目标数据库中不存在任何对象，则会报告可忽略的错误消息，
        除非还指定了<option>--if-exists</option>。
       </para>
<!-- pgdoc-cn_end sig_en=0d3ad7dd77f5eaa225969c1012cc47bd -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-C</option></term>
      <term><option>--create</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=e5df1d9d7935a05a7c35acc3709f415c sig_cn_org=37f862d80ec61c016babeed76a26cdbd source=15.7 
       <para>
        Create the database before restoring into it.
        If <option>-&minus;clean</option> is also specified, drop and
        recreate the target database before connecting to it.
       </para>
________________________________________________________-->
       <para>
        在恢复之前创建数据库。
        如果还指定了<option>--clean</option>选项，则在连接到目标数据库之前删除并重新创建它。
       </para>
<!-- pgdoc-cn_end sig_en=e5df1d9d7935a05a7c35acc3709f415c -->

<!-- pgdoc-cn_start sig_en=4b8a895df42cee934656cf8b3b335c9e sig_cn_org=42a7e3772153deb4862e0442330320f4 source=15.7 
       <para>
        With <option>-&minus;create</option>, <application>pg_restore</application>
        also restores the database's comment if any, and any configuration
        variable settings that are specific to this database, that is,
        any <command>ALTER DATABASE ... SET ...</command>
        and <command>ALTER ROLE ... IN DATABASE ... SET ...</command>
        commands that mention this database.
        Access privileges for the database itself are also restored,
        unless <option>-&minus;no-acl</option> is specified.
       </para>
________________________________________________________-->
       <para>
        使用<option>--create</option>选项，<application>pg_restore</application>
        还会恢复数据库的注释（如果有的话），以及特定于此数据库的任何配置变量设置，
        也就是任何提及此数据库的<command>ALTER DATABASE ... SET ...</command>
        和<command>ALTER ROLE ... IN DATABASE ... SET ...</command>命令。
        除非指定了<option>--no-acl</option>，否则还会恢复数据库本身的访问权限。
       </para>
<!-- pgdoc-cn_end sig_en=4b8a895df42cee934656cf8b3b335c9e -->

<!-- pgdoc-cn_start sig_en=7c91f6c1066e4403fbcbe9fba6bc0b28 sig_cn_org=f4699eff0916b2d4743319451d3012bd source=15.7 
       <para>
        When this option is used, the database named with <option>-d</option>
        is used only to issue the initial <command>DROP DATABASE</command> and
        <command>CREATE DATABASE</command> commands.  All data is restored into the
        database name that appears in the archive.
       </para>
________________________________________________________-->
       <para>
        当使用此选项时，仅使用名为<option>-d</option>的数据库来发出初始的<command>DROP DATABASE</command>和<command>CREATE DATABASE</command>命令。
        所有数据都将恢复到存档中显示的数据库名称中。
       </para>
<!-- pgdoc-cn_end sig_en=7c91f6c1066e4403fbcbe9fba6bc0b28 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-d <replaceable class="parameter">dbname</replaceable></option></term>
      <term><option>--dbname=<replaceable class="parameter">dbname</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=c6280c3120d41ddf851623394d1e375d sig_cn_org=fb2706cae2cb2548df48f5ca74210645 source=15.7 
       <para>
        Connect to database <replaceable
        class="parameter">dbname</replaceable> and restore directly
        into the database.  The <replaceable>dbname</replaceable> can
        be a <link linkend="libpq-connstring">connection string</link>.
        If so, connection string parameters will override any conflicting
        command line options.
       </para>
________________________________________________________-->
       <para>
        连接到数据库<replaceable class="parameter">dbname</replaceable>并直接恢复到数据库中。
        <replaceable>dbname</replaceable>可以是一个<link linkend="libpq-connstring">连接字符串</link>。
        如果是这样，连接字符串参数将覆盖任何冲突的命令行选项。
       </para>
<!-- pgdoc-cn_end sig_en=c6280c3120d41ddf851623394d1e375d -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-e</option></term>
      <term><option>--exit-on-error</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=5ceb7a73293f1a2051204b3188d5246c sig_cn_org=ebbd66aa6efa76e49abdd164f6afa2a0 source=15.7 
       <para>
        Exit if an error is encountered while sending SQL commands to
        the database. The default is to continue and to display a count of
        errors at the end of the restoration.
       </para>
________________________________________________________-->
       <para>
        如果在向数据库发送SQL命令时遇到错误，则退出。默认情况下会继续执行，并在恢复结束时显示错误计数。
       </para>
<!-- pgdoc-cn_end sig_en=5ceb7a73293f1a2051204b3188d5246c -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-f <replaceable>filename</replaceable></option></term>
      <term><option>--file=<replaceable>filename</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=fd5df742251fa4732af739b61382bbfc sig_cn_org=4ef0a960ac7e430efd9c08277c122801 source=15.7 
       <para>
        Specify output file for generated script, or for the listing
        when used with <option>-l</option>. Use <literal>-</literal>
        for <systemitem>stdout</systemitem>.
       </para>
________________________________________________________-->
       <para>
        指定生成脚本的输出文件，或者与<option>-l</option>一起使用时用于列表的文件。
        使用<literal>-</literal>代表<systemitem>stdout</systemitem>。
       </para>
<!-- pgdoc-cn_end sig_en=fd5df742251fa4732af739b61382bbfc -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-F <replaceable class="parameter">format</replaceable></option></term>
      <term><option>--format=<replaceable class="parameter">format</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=87692d87e2c5153a549a38fdaeb0c778 sig_cn_org=74ec1e72395a162745e50c9057f42949 source=15.7 
       <para>
        Specify format of the archive.  It is not necessary to specify
        the format, since <application>pg_restore</application> will
        determine the format automatically. If specified, it can be
        one of the following:

       <variablelist>
        <varlistentry>
         <term><literal>c</literal></term>
         <term><literal>custom</literal></term>
         <listitem>
          <para>
           The archive is in the custom format of
           <application>pg_dump</application>.
          </para>
         </listitem>
        </varlistentry>

        <varlistentry>
         <term><literal>d</literal></term>
         <term><literal>directory</literal></term>
         <listitem>
          <para>
           The archive is a directory archive.
          </para>
         </listitem>
        </varlistentry>

        <varlistentry>
         <term><literal>t</literal></term>
         <term><literal>tar</literal></term>
         <listitem>
          <para>
           The archive is a <command>tar</command> archive.
          </para>
         </listitem>
        </varlistentry>
       </variablelist></para>
________________________________________________________-->
       <para>
        指定存档的格式。不需要指定格式，因为<application>pg_restore</application>会自动确定格式。
        如果指定，可以是以下之一：

       <variablelist>
        <varlistentry>
         <term><literal>c</literal></term>
         <term><literal>custom</literal></term>
         <listitem>
          <para>
           存档是<application>pg_dump</application>的自定义格式。
          </para>
         </listitem>
        </varlistentry>

        <varlistentry>
         <term><literal>d</literal></term>
         <term><literal>directory</literal></term>
         <listitem>
          <para>
           存档是一个目录存档。
          </para>
         </listitem>
        </varlistentry>

        <varlistentry>
         <term><literal>t</literal></term>
         <term><literal>tar</literal></term>
         <listitem>
          <para>
           存档是一个<command>tar</command>存档。
          </para>
         </listitem>
        </varlistentry>
       </variablelist></para>
<!-- pgdoc-cn_end sig_en=87692d87e2c5153a549a38fdaeb0c778 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-I <replaceable class="parameter">index</replaceable></option></term>
      <term><option>--index=<replaceable class="parameter">index</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=30a51891394a1303920a12442c58ef82 sig_cn_org=ffc76ef03bce9fbdf771b00253ccac8e source=15.7 
       <para>
        Restore definition of named index only.  Multiple indexes
        may be specified with multiple <option>-I</option> switches.
       </para>
________________________________________________________-->
       <para>
        仅恢复命名索引的定义。可以使用多个<option>-I</option>开关指定多个索引。
       </para>
<!-- pgdoc-cn_end sig_en=30a51891394a1303920a12442c58ef82 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-j <replaceable class="parameter">number-of-jobs</replaceable></option></term>
      <term><option>--jobs=<replaceable class="parameter">number-of-jobs</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=c74d2e29d3396c882d495b8c54529045 sig_cn_org=af958f7ccb57974e9ecdbbc704d891b7 source=15.7 
       <para>
        Run the most time-consuming steps
        of <application>pg_restore</application> &mdash; those that load data,
        create indexes, or create constraints &mdash; concurrently, using up
        to <replaceable class="parameter">number-of-jobs</replaceable>
        concurrent sessions.  This option can dramatically reduce the time
        to restore a large database to a server running on a
        multiprocessor machine.  This option is ignored when emitting a script
        rather than connecting directly to a database server.
       </para>
________________________________________________________-->
       <para>
        运行<application>pg_restore</application>中最耗时的步骤 &mdash; 即加载数据、
        创建索引或创建约束 &mdash; 并发地，使用最多<replaceable class="parameter">number-of-jobs</replaceable>
        个并发会话。这个选项可以显著减少将大型数据库恢复到运行在多处理器机器上的服务器上所需的时间。
        当生成脚本而不是直接连接到数据库服务器时，此选项将被忽略。
       </para>
<!-- pgdoc-cn_end sig_en=c74d2e29d3396c882d495b8c54529045 -->

<!-- pgdoc-cn_start sig_en=f4445340f4617b636fd0fc17d0c15449 sig_cn_org=ea6740d7f2a14fe90bd2e9f4df42fc0d source=15.7 
       <para>
        Each job is one process or one thread, depending on the
        operating system, and uses a separate connection to the
        server.
       </para>
________________________________________________________-->
       <para>
        每个作业是一个进程或一个线程，取决于操作系统，并使用一个独立的连接到服务器。
       </para>
<!-- pgdoc-cn_end sig_en=f4445340f4617b636fd0fc17d0c15449 -->

<!-- pgdoc-cn_start sig_en=563e97247db0474df850496370278dac sig_cn_org=5ea1afc3a75acdf278e8d98794ae4eaf source=15.7 
       <para>
        The optimal value for this option depends on the hardware
        setup of the server, of the client, and of the network.
        Factors include the number of CPU cores and the disk setup.  A
        good place to start is the number of CPU cores on the server,
        but values larger than that can also lead to faster restore
        times in many cases.  Of course, values that are too high will
        lead to decreased performance because of thrashing.
       </para>
________________________________________________________-->
       <para>
        该选项的最佳值取决于服务器、客户端和网络的硬件设置。因素包括CPU核心数量和磁盘设置。
        一个好的起点是服务器上的CPU核心数量，但在许多情况下，更大的值也可以导致更快的恢复时间。
        当然，值过高会因为抖动而导致性能下降。
</para>
<!-- pgdoc-cn_end sig_en=563e97247db0474df850496370278dac -->

<!-- pgdoc-cn_start sig_en=baf7afe76cbead6a6f37d42b78bd4c71 sig_cn_org=21cf0fe9123db3cf762075555df48b72 source=15.7 
       <para>
        Only the custom and directory archive formats are supported
        with this option.
        The input must be a regular file or directory (not, for example, a
        pipe or standard input).  Also, multiple
        jobs cannot be used together with the
        option <option>-&minus;single-transaction</option>.
       </para>
________________________________________________________-->
       <para>
        仅支持使用此选项的自定义和目录存档格式。
        输入必须是常规文件或目录（例如，不是管道或标准输入）。
        此外，无法与选项<option>--single-transaction</option>一起使用多个作业。
       </para>
<!-- pgdoc-cn_end sig_en=baf7afe76cbead6a6f37d42b78bd4c71 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-l</option></term>
      <term><option>--list</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=61bf614b11e5b8837dac8b2813e8377d sig_cn_org=2a941ab213547ad569945c7d9d5d6455 source=15.7 
       <para>
        List the table of contents of the archive. The output of this operation
        can be used as input to the <option>-L</option> option.  Note that
        if filtering switches such as <option>-n</option> or <option>-t</option> are
        used with <option>-l</option>, they will restrict the items listed.
       </para>
________________________________________________________-->
       <para>
        列出存档的目录。此操作的输出可用作<option>-L</option>选项的输入。请注意，
        如果与<option>-l</option>一起使用过滤开关，如<option>-n</option>或<option>-t</option>，
        它们将限制所列项目。
       </para>
<!-- pgdoc-cn_end sig_en=61bf614b11e5b8837dac8b2813e8377d -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-L <replaceable class="parameter">list-file</replaceable></option></term>
      <term><option>--use-list=<replaceable class="parameter">list-file</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=5adda31300edbb8a8daa75ea5746c517 sig_cn_org=36e231c1384c4c10d48345de03d617b4 source=15.7 
       <para>
        Restore only those archive elements that are listed in <replaceable
        class="parameter">list-file</replaceable>, and restore them in the
        order they appear in the file.  Note that
        if filtering switches such as <option>-n</option> or <option>-t</option> are
        used with <option>-L</option>, they will further restrict the items restored.
       </para>
________________________________________________________-->
       <para>
        仅还原列在<replaceable class="parameter">list-file</replaceable>中的存档元素，并按照它们在文件中出现的顺序进行还原。请注意，如果与<option>-L</option>一起使用过滤开关，如<option>-n</option>或<option>-t</option>，它们将进一步限制所还原的项目。
       </para>
<!-- pgdoc-cn_end sig_en=5adda31300edbb8a8daa75ea5746c517 -->
<!-- pgdoc-cn_start sig_en=c1cabdd78ecb7bdff1f0d74474d4fda7 sig_cn_org=4056f5fccebd23f5c319c0b51423970d source=15.7 
       <para><replaceable class="parameter">list-file</replaceable> is normally created by
        editing the output of a previous <option>-l</option> operation.
        Lines can be moved or removed, and can also
        be commented out by placing a semicolon (<literal>;</literal>) at the
        start of the line.  See below for examples.
       </para>
________________________________________________________-->
       <para><replaceable class="parameter">list-file</replaceable>通常是通过编辑先前<option>-l</option>操作的输出创建的。
        可以移动或删除行，也可以通过在行首放置分号（<literal>;</literal>）进行注释。
        请参见下面的示例。
       </para>
<!-- pgdoc-cn_end sig_en=c1cabdd78ecb7bdff1f0d74474d4fda7 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-n <replaceable class="parameter">schema</replaceable></option></term>
      <term><option>--schema=<replaceable class="parameter">schema</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=b19e087f32196d61d37f0b67564d7229 sig_cn_org=4afe34f59eeb276e267ef69126537acc source=15.7 
       <para>
        Restore only objects that are in the named schema.  Multiple schemas
        may be specified with multiple <option>-n</option> switches.  This can be
        combined with the <option>-t</option> option to restore just a
        specific table.
       </para>
________________________________________________________-->
       <para>
        仅还原位于指定模式中的对象。可以使用多个<option>-n</option>开关指定多个模式。
        这可以与<option>-t</option>选项结合使用，仅还原特定表。
</para>
<!-- pgdoc-cn_end sig_en=b19e087f32196d61d37f0b67564d7229 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-N <replaceable class="parameter">schema</replaceable></option></term>
      <term><option>--exclude-schema=<replaceable class="parameter">schema</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=8715da2c64e38a782415280eed195b73 sig_cn_org=072cb8ddb12b8303c26b9867319ba7d5 source=15.7 
       <para>
        Do not restore objects that are in the named schema.  Multiple schemas
        to be excluded may be specified with multiple <option>-N</option> switches.
       </para>
________________________________________________________-->
       <para>
        不要恢复位于指定模式中的对象。可以使用多个<option>-N</option>开关指定要排除的多个模式。
       </para>
<!-- pgdoc-cn_end sig_en=8715da2c64e38a782415280eed195b73 -->

<!-- pgdoc-cn_start sig_en=23f55cb16cd6f1d3e81d33c025aa2d9c sig_cn_org=e2c168471c79bb3e434dc89e0175efc3 source=15.7 
       <para>
        When both <option>-n</option> and <option>-N</option> are given for the same
        schema name, the <option>-N</option> switch wins and the schema is excluded.
       </para>
________________________________________________________-->
       <para>
        当为同一模式名称同时指定<option>-n</option>>和<option>-N</option>时，
        <option>-N</option>开关胜出，该模式将被排除。
       </para>
<!-- pgdoc-cn_end sig_en=23f55cb16cd6f1d3e81d33c025aa2d9c -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-O</option></term>
      <term><option>--no-owner</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=8e015c929c4d27e3bb307d28ad2c2929 sig_cn_org=89e7b4c75ea704cdf944824f01cee154 source=15.7 
       <para>
        Do not output commands to set
        ownership of objects to match the original database.
        By default, <application>pg_restore</application> issues
        <command>ALTER OWNER</command> or
        <command>SET SESSION AUTHORIZATION</command>
        statements to set ownership of created schema elements.
        These statements will fail unless the initial connection to the
        database is made by a superuser
        (or the same user that owns all of the objects in the script).
        With <option>-O</option>, any user name can be used for the
        initial connection, and this user will own all the created objects.
       </para>
________________________________________________________-->
       <para>
        不要输出命令来设置对象的所有权以匹配原始数据库。
        默认情况下，<application>pg_restore</application>会发出
        <command>ALTER OWNER</command>或
        <command>SET SESSION AUTHORIZATION</command>语句来设置创建的模式元素的所有权。
        这些语句将失败，除非对数据库的初始连接是由超级用户
        （或拥有脚本中所有对象的相同用户）进行的。
        使用<option>-O</option>，可以使用任何用户名进行初始连接，并且此用户将拥有所有创建的对象。
       </para>
<!-- pgdoc-cn_end sig_en=8e015c929c4d27e3bb307d28ad2c2929 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-P <replaceable class="parameter">function-name(argtype [, ...])</replaceable></option></term>
      <term><option>--function=<replaceable class="parameter">function-name(argtype [, ...])</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=c1feba4ac07ef12b16542a03d787da36 sig_cn_org=bd6a5101a5a57a14641aaf1a59393596 source=15.7 
       <para>
        Restore the named function only.  Be careful to spell the function
        name and arguments exactly as they appear in the dump file's table
        of contents.  Multiple functions may be specified with multiple
        <option>-P</option> switches.
       </para>
________________________________________________________-->
       <para>
        仅还原指定的函数。请小心拼写函数名和参数，确保与转储文件目录中的内容完全一致。
        可以使用多个<option>-P</option>开关指定多个函数。
       </para>
<!-- pgdoc-cn_end sig_en=c1feba4ac07ef12b16542a03d787da36 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-R</option></term>
      <term><option>--no-reconnect</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=71586361c9a4ba61b7195d694c5f12da sig_cn_org=ece9e6f05ec035c5d58875c6270e05a5 source=15.7 
       <para>
        This option is obsolete but still accepted for backwards
        compatibility.
       </para>
________________________________________________________-->
       <para>
        这个选项已经过时，但仍然被接受以保持向后兼容性。
       </para>
<!-- pgdoc-cn_end sig_en=71586361c9a4ba61b7195d694c5f12da -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-s</option></term>
      <term><option>--schema-only</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=d1cf6fac761326b05df269f411f6355b sig_cn_org=616720c55f42ae319ec164ee24c2e0ec source=15.7 
       <para>
        Restore only the schema (data definitions), not data,
        to the extent that schema entries are present in the archive.
       </para>
________________________________________________________-->
       <para>
        仅恢复模式（数据定义），而不是数据，只要存档中存在模式条目。
       </para>
<!-- pgdoc-cn_end sig_en=d1cf6fac761326b05df269f411f6355b -->
<!-- pgdoc-cn_start sig_en=6c538319d91ee49d52e20f017fe1c090 sig_cn_org=fcd1a0dbc223028643efc2a54c9ee877 source=15.7 
       <para>
        This option is the inverse of <option>-&minus;data-only</option>.
        It is similar to, but for historical reasons not identical to,
        specifying
        <option>-&minus;section=pre-data -&minus;section=post-data</option>.
       </para>
________________________________________________________-->
       <para>
        这个选项是<option>--data-only</option>的反义词。
        它类似于，但出于历史原因并非完全相同于，
        指定<option>--section=pre-data --section=post-data</option>。
       </para>
<!-- pgdoc-cn_end sig_en=6c538319d91ee49d52e20f017fe1c090 -->
<!-- pgdoc-cn_start sig_en=a29ea55b878427c1ab81fd11f8dc552d sig_cn_org=522e68493b594926c54811cbd8d600d1 source=15.7 
       <para>
        (Do not confuse this with the <option>-&minus;schema</option> option, which
        uses the word <quote>schema</quote> in a different meaning.)
       </para>
________________________________________________________-->
       <para>
        (不要将此与<option>--schema</option>选项混淆，该选项使用单词<quote>schema</quote>具有不同的含义。)
       </para>
<!-- pgdoc-cn_end sig_en=a29ea55b878427c1ab81fd11f8dc552d -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-S <replaceable class="parameter">username</replaceable></option></term>
      <term><option>--superuser=<replaceable class="parameter">username</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=1feb3a1db932c02aed6639ea9177aafa sig_cn_org=b2e919479cf3e5eb36457f417338c324 source=15.7 
       <para>
        Specify the superuser user name to use when disabling triggers.
        This is relevant only if <option>-&minus;disable-triggers</option> is used.
       </para>
________________________________________________________-->
       <para>
        指定超级用户用户名以在禁用触发器时使用。
        这仅在使用<option>--disable-triggers</option>时才相关。
</para>
<!-- pgdoc-cn_end sig_en=1feb3a1db932c02aed6639ea9177aafa -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-t <replaceable class="parameter">table</replaceable></option></term>
      <term><option>--table=<replaceable class="parameter">table</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=df1390addbc47d1690d01fb2598dd760 sig_cn_org=f6153234beb84ca6a7ffbf71f9ce3b11 source=15.7 
       <para>
        Restore definition and/or data of only the named table.
        For this purpose, <quote>table</quote> includes views, materialized views,
        sequences, and foreign tables.  Multiple tables
        can be selected by writing multiple <option>-t</option> switches.
        This option can be combined with the <option>-n</option> option to
        specify table(s) in a particular schema.
       </para>
________________________________________________________-->
       <para>
        恢复仅指定表的定义和/或数据。
        为此，<quote>table</quote>包括视图、物化视图、序列和外部表。可以通过写多个
        <option>-t</option>开关来选择多个表。此选项可以与<option>-n</option>选项结合使用，
        以指定特定模式中的表。
</para>
<!-- pgdoc-cn_end sig_en=df1390addbc47d1690d01fb2598dd760 -->

       <note>
<!-- pgdoc-cn_start sig_en=4d4b9521975bd92d3ceb54169d49791d sig_cn_org=cc2659558b212bff56734699434426bf source=15.7 
        <para>
         When <option>-t</option> is specified, <application>pg_restore</application>
         makes no attempt to restore any other database objects that the
         selected table(s) might depend upon.  Therefore, there is no
         guarantee that a specific-table restore into a clean database will
         succeed.
        </para>
________________________________________________________-->
        <para>
         当指定<option>-t</option>选项时，<application>pg_restore</application>
         不会尝试恢复所选表可能依赖的任何其他数据库对象。因此，不能保证将特定表还原到干净数据库中会成功。
        </para>
<!-- pgdoc-cn_end sig_en=4d4b9521975bd92d3ceb54169d49791d -->
       </note>

       <note>
<!-- pgdoc-cn_start sig_en=fdbca4aff595012cc05a4cc52d2c5bae sig_cn_org=908b7ec1ec097c47a33237a5b07c590a source=15.7 
        <para>
         This flag does not behave identically to the <option>-t</option>
         flag of <application>pg_dump</application>.  There is not currently
         any provision for wild-card matching in <application>pg_restore</application>,
         nor can you include a schema name within its <option>-t</option>.
         And, while <application>pg_dump</application>'s <option>-t</option>
         flag will also dump subsidiary objects (such as indexes) of the
         selected table(s),
         <application>pg_restore</application>'s <option>-t</option>
         flag does not include such subsidiary objects.
        </para>
________________________________________________________-->
        <para>
         这个标志与<application>pg_dump</application>的<option>-t</option>标志的行为不完全相同。
         <application>pg_restore</application>目前没有通配符匹配的功能，
         也不能在<application>pg_restore</application>的<option>-t</option>中包含模式名称。
         而<application>pg_dump</application>的<option>-t</option>标志还会导出所选表的附属对象（如索引），
         <application>pg_restore</application>的<option>-t</option>标志不包括这些附属对象。
        </para>
<!-- pgdoc-cn_end sig_en=fdbca4aff595012cc05a4cc52d2c5bae -->
       </note>

       <note>
<!-- pgdoc-cn_start sig_en=d9cdd41c8313ae5ce08ed1b98a9680aa sig_cn_org=9ad26e6948330627d697de45b55f22b6 source=15.7 
        <para>
         In versions prior to <productname>PostgreSQL</productname> 9.6, this flag
         matched only tables, not any other type of relation.
        </para>
________________________________________________________-->
        <para>
         在<productname>PostgreSQL</productname> 9.6之前的版本中，此标志仅匹配表，而不匹配任何其他类型的关系。
        </para>
<!-- pgdoc-cn_end sig_en=d9cdd41c8313ae5ce08ed1b98a9680aa -->
       </note>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-T <replaceable class="parameter">trigger</replaceable></option></term>
      <term><option>--trigger=<replaceable class="parameter">trigger</replaceable></option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=30c9cf778a69b9696b861a0218e47b53 sig_cn_org=cfa9e568938888b081c7eeff2dcb175a source=15.7 
       <para>
        Restore named trigger only.  Multiple triggers may be specified with
        multiple <option>-T</option> switches.
       </para>
________________________________________________________-->
       <para>
        仅恢复命名触发器。可以使用多个<option>-T</option>开关指定多个触发器。
       </para>
<!-- pgdoc-cn_end sig_en=30c9cf778a69b9696b861a0218e47b53 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-v</option></term>
      <term><option>--verbose</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=2aae012d2f2bae7a9503ac99903eb8ea sig_cn_org=93f9e78bf032cab5fda19442ef96c3cd source=15.7 
       <para>
        Specifies verbose mode.  This will cause
        <application>pg_restore</application> to output detailed object
        comments and start/stop times to the output file, and progress
        messages to standard error.
        Repeating the option causes additional debug-level messages
        to appear on standard error.
       </para>
________________________________________________________-->
       <para>
        指定详细模式。这将导致<application>pg_restore</application>将详细的对象注释和开始/停止时间输出到输出文件，并将进度消息输出到标准错误。
        重复该选项会导致额外的调试级别消息出现在标准错误上。
       </para>
<!-- pgdoc-cn_end sig_en=2aae012d2f2bae7a9503ac99903eb8ea -->
      </listitem>
     </varlistentry>

     <varlistentry>
       <term><option>-V</option></term>
       <term><option>--version</option></term>
       <listitem>
<!-- pgdoc-cn_start sig_en=ea943733515827c92fc499b973477aed sig_cn_org=5fbe085622b9913c2077220e61fcc392 source=15.7 
       <para>
       Print the <application>pg_restore</application> version and exit.
       </para>
________________________________________________________-->
       <para>
       打印<application>pg_restore</application>版本并退出。
       </para>
<!-- pgdoc-cn_end sig_en=ea943733515827c92fc499b973477aed -->
       </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-x</option></term>
      <term><option>--no-privileges</option></term>
      <term><option>--no-acl</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=73b6b33aef9bb3a4347548ac64e3bcb1 sig_cn_org=eb01e2813f157dccd2d4ee1fac3a2b3a source=15.7 
       <para>
        Prevent restoration of access privileges (grant/revoke commands).
       </para>
________________________________________________________-->
       <para>
        防止恢复访问权限（授予/撤销命令）。
       </para>
<!-- pgdoc-cn_end sig_en=73b6b33aef9bb3a4347548ac64e3bcb1 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-1</option></term>
      <term><option>--single-transaction</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=e49f4606a1118e99667d449c43c4a24f sig_cn_org=a7c10779a9bd44e0e2f1c62c2febb27e source=15.7 
       <para>
        Execute the restore as a single transaction (that is, wrap the
        emitted commands in <command>BEGIN</command>/<command>COMMIT</command>).  This
        ensures that either all the commands complete successfully, or no
        changes are applied. This option implies
        <option>-&minus;exit-on-error</option>.
       </para>
________________________________________________________-->
       <para>
        将恢复操作作为一个单独的事务执行（即，在<command>BEGIN</command>/<command>COMMIT</command>中包装发出的命令）。
        这样可以确保要么所有命令成功完成，要么不应用任何更改。此选项意味着
        <option>--exit-on-error</option>。
</para>
<!-- pgdoc-cn_end sig_en=e49f4606a1118e99667d449c43c4a24f -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--disable-triggers</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=baf5ab759f5ddd27680e68fb379c9f2b sig_cn_org=9acf93cba38690b293ad162ec001824a source=15.7 
       <para>
        This option is relevant only when performing a data-only restore.
        It instructs <application>pg_restore</application> to execute commands
        to temporarily disable triggers on the target tables while
        the data is restored.  Use this if you have referential
        integrity checks or other triggers on the tables that you
        do not want to invoke during data restore.
       </para>
________________________________________________________-->
       <para>
        该选项仅在执行仅数据还原时才相关。它指示<application>pg_restore</application>在恢复数据时执行命令以临时禁用目标表上的触发器。
        如果您在表上有引用完整性检查或其他触发器，而不希望在数据还原期间调用它们，请使用此选项。
       </para>
<!-- pgdoc-cn_end sig_en=baf5ab759f5ddd27680e68fb379c9f2b -->

<!-- pgdoc-cn_start sig_en=a3f22590d90890c263abd21276dbd24d sig_cn_org=7c7db0560df3686419958b94ab3c4440 source=15.7 
       <para>
        Presently, the commands emitted for
        <option>-&minus;disable-triggers</option> must be done as superuser.  So you
        should also specify a superuser name with <option>-S</option> or,
        preferably, run <application>pg_restore</application> as a
        <productname>PostgreSQL</productname> superuser.
       </para>
________________________________________________________-->
       <para>
        目前，为<option>--disable-triggers</option>发出的命令必须由超级用户执行。
        因此，您还应该使用<option>-S</option>指定一个超级用户名称，或者更好地，
        以<application>pg_restore</application>作为<productname>PostgreSQL</productname>超级用户运行。
</para>
<!-- pgdoc-cn_end sig_en=a3f22590d90890c263abd21276dbd24d -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--enable-row-security</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=9d339e7c959e127a8c17004e1ae8926d sig_cn_org=e795191b171361e23ff5ed54fa1684c5 source=15.7 
       <para>
        This option is relevant only when restoring the contents of a table
        which has row security.  By default, <application>pg_restore</application> will set
        <xref linkend="guc-row-security"/> to off, to ensure
        that all data is restored in to the table.  If the user does not have
        sufficient privileges to bypass row security, then an error is thrown.
        This parameter instructs <application>pg_restore</application> to set
        <xref linkend="guc-row-security"/> to on instead, allowing the user to attempt to restore
        the contents of the table with row security enabled.  This might still
        fail if the user does not have the right to insert the rows from the
        dump into the table.
       </para>
________________________________________________________-->
       <para>
        该选项仅在恢复具有行安全性的表的内容时才相关。默认情况下，<application>pg_restore</application>将设置
        <xref linkend="guc-row-security"/>为off，以确保所有数据都被恢复到表中。如果用户没有足够的权限来绕过行安全性，则会抛出错误。
        此参数指示<application>pg_restore</application>将<xref linkend="guc-row-security"/>设置为on，允许用户尝试启用行安全性的表内容。
        如果用户没有权限将转储中的行插入到表中，这仍可能失败。
       </para>
<!-- pgdoc-cn_end sig_en=9d339e7c959e127a8c17004e1ae8926d -->

<!-- pgdoc-cn_start sig_en=81ac4c41527d8395812732719d90c90c sig_cn_org=ca9ef7b8aee25bba37aaa1caaf90e1c5 source=15.7 
       <para>
        Note that this option currently also requires the dump be in <command>INSERT</command>
        format, as <command>COPY FROM</command> does not support row security.
       </para>
________________________________________________________-->
       <para>
        请注意，此选项目前还要求转储以<command>INSERT</command>格式进行，因为<command>COPY FROM</command>不支持行安全性。
       </para>
<!-- pgdoc-cn_end sig_en=81ac4c41527d8395812732719d90c90c -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--if-exists</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=d95768d0c689c3272172cb9653dfcbae sig_cn_org=6a33cbecacd1d42d0b1c080cea38440e source=15.7 
       <para>
        Use <literal>DROP ... IF EXISTS</literal> commands to drop objects
        in <option>-&minus;clean</option> mode.  This suppresses <quote>does not
        exist</quote> errors that might otherwise be reported.  This
        option is not valid unless <option>-&minus;clean</option> is also
        specified.
       </para>
________________________________________________________-->
       <para>
        使用<literal>DROP ... IF EXISTS</literal>命令在<option>--clean</option>模式下删除对象。
        这将抑制可能会报告的<quote>不存在</quote>错误。除非还指定了<option>--clean</option>，否则此选项无效。
       </para>
<!-- pgdoc-cn_end sig_en=d95768d0c689c3272172cb9653dfcbae -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--no-comments</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=561c6b8a0a1e9326fc035be0382d880b sig_cn_org=b80ba557c1534f1566995950be75cd77 source=15.7 
       <para>
        Do not output commands to restore comments, even if the archive
        contains them.
       </para>
________________________________________________________-->
       <para>
        不要输出命令来恢复注释，即使存档中包含它们。
       </para>
<!-- pgdoc-cn_end sig_en=561c6b8a0a1e9326fc035be0382d880b -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--no-data-for-failed-tables</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=b6592bdc8e9df5af890a6f6a0d897100 sig_cn_org=5a94fa3dc8a5a589d154d3ae81024a82 source=15.7 
       <para>
        By default, table data is restored even if the creation command
        for the table failed (e.g., because it already exists).
        With this option, data for such a table is skipped.
        This behavior is useful if the target database already
        contains the desired table contents.  For example,
        auxiliary tables for <productname>PostgreSQL</productname> extensions
        such as <productname>PostGIS</productname> might already be loaded in
        the target database; specifying this option prevents duplicate
        or obsolete data from being loaded into them.
       </para>
________________________________________________________-->
       <para>
        默认情况下，即使表的创建命令失败（例如，因为表已经存在），表数据也会被恢复。
        使用此选项，将跳过这样一个表的数据。
        如果目标数据库已经包含所需的表内容，则此行为很有用。例如，
        <productname>PostgreSQL</productname>扩展的辅助表
        （如<productname>PostGIS</productname>）可能已经加载到目标数据库中；
        指定此选项可防止重复或过时的数据被加载到其中。
       </para>
<!-- pgdoc-cn_end sig_en=b6592bdc8e9df5af890a6f6a0d897100 -->

<!-- pgdoc-cn_start sig_en=9c5ab07e03ddd97aa8b8f6def7a1dd6c sig_cn_org=dcc26438798781693ddaca33da235951 source=15.7 
       <para>
        This option is effective only when restoring directly into a
        database, not when producing SQL script output.
       </para>
________________________________________________________-->
       <para>
        该选项仅在直接恢复到数据库时有效，而不在生成SQL脚本输出时有效。
       </para>
<!-- pgdoc-cn_end sig_en=9c5ab07e03ddd97aa8b8f6def7a1dd6c -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--no-publications</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=d9f7fe2d9e9b4546f35c080efb70daee sig_cn_org=79698da9c136991ec901056e019d0ea7 source=15.7 
       <para>
        Do not output commands to restore publications, even if the archive
        contains them.
       </para>
________________________________________________________-->
       <para>
        不要输出命令来恢复出版物，即使存档中包含它们。
       </para>
<!-- pgdoc-cn_end sig_en=d9f7fe2d9e9b4546f35c080efb70daee -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--no-security-labels</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=73042da79497a7e0292bc2320a522b73 sig_cn_org=06dfe47a1295d95a4c80dc0d3c3815b1 source=15.7 
       <para>
        Do not output commands to restore security labels,
        even if the archive contains them.
       </para>
________________________________________________________-->
       <para>
        不要输出命令来恢复安全标签，即使存档中包含它们。
       </para>
<!-- pgdoc-cn_end sig_en=73042da79497a7e0292bc2320a522b73 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--no-subscriptions</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=9a1fd717bca8cb4fb94ea27376b72e86 sig_cn_org=1fc63723c94843009154baa426a98f9f source=15.7 
       <para>
        Do not output commands to restore subscriptions, even if the archive
        contains them.
       </para>
________________________________________________________-->
       <para>
        不要输出命令来恢复订阅，即使存档中包含它们。
       </para>
<!-- pgdoc-cn_end sig_en=9a1fd717bca8cb4fb94ea27376b72e86 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--no-table-access-method</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=c5d5fe78a3a67c2dd3b199a7ff6ccf42 sig_cn_org=93506c3ae1c86cb7834ea0b54cae3964 source=15.7 
       <para>
        Do not output commands to select table access methods.
        With this option, all objects will be created with whichever
        access method is the default during restore.
       </para>
________________________________________________________-->
       <para>
        不要输出命令来选择表访问方法。使用此选项，在恢复期间将使用默认的访问方法创建所有对象。
       </para>
<!-- pgdoc-cn_end sig_en=c5d5fe78a3a67c2dd3b199a7ff6ccf42 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--no-tablespaces</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=b37e6b6ebd264d027476ae207c893063 sig_cn_org=d5132eb99393a01b9f30535ba867b1fc source=15.7 
       <para>
        Do not output commands to select tablespaces.
        With this option, all objects will be created in whichever
        tablespace is the default during restore.
       </para>
________________________________________________________-->
       <para>
        不要输出选择表空间的命令。
        使用此选项，所有对象将在恢复期间默认的表空间中创建。
       </para>
<!-- pgdoc-cn_end sig_en=b37e6b6ebd264d027476ae207c893063 -->
      </listitem>
     </varlistentry>

     <varlistentry>
       <term><option>--section=<replaceable class="parameter">sectionname</replaceable></option></term>
       <listitem>
<!-- pgdoc-cn_start sig_en=3418f5835af4ee661e0f6de251618ce8 sig_cn_org=4617eaea6331a3e7f35945d7b4b3aee5 source=15.7 
         <para>
          Only restore the named section. The section name can be
          <option>pre-data</option>, <option>data</option>, or <option>post-data</option>.
          This option can be specified more than once to select multiple
          sections. The default is to restore all sections.
         </para>
________________________________________________________-->
         <para>
          只恢复指定的部分。部分名称可以是<option>pre-data</option>、<option>data</option>或<option>post-data</option>。
          可以多次指定此选项以选择多个部分。默认情况下恢复所有部分。
         </para>
<!-- pgdoc-cn_end sig_en=3418f5835af4ee661e0f6de251618ce8 -->
<!-- pgdoc-cn_start sig_en=92ddf35cc925ed2ccd03712dcc8371a7 sig_cn_org=1300610442927f7bb263a00e6c61a05a source=15.7 
         <para>
          The data section contains actual table data as well as large-object
          definitions.
          Post-data items consist of definitions of indexes, triggers, rules
          and constraints other than validated check constraints.
          Pre-data items consist of all other data definition items.
         </para>
________________________________________________________-->
         <para>
          数据部分包含实际的表数据以及大对象定义。
          数据后项包括索引、触发器、规则和除验证检查约束之外的约束的定义。
          数据前项包括所有其他数据定义项。
         </para>
<!-- pgdoc-cn_end sig_en=92ddf35cc925ed2ccd03712dcc8371a7 -->
       </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--strict-names</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=fa9a03f61d98ead6bad8d97c5f837b8b sig_cn_org=ae922ae8ddf9a8a40478a4db40d1edd5 source=15.7 
       <para>
        Require that each schema
        (<option>-n</option>/<option>-&minus;schema</option>) and table
        (<option>-t</option>/<option>-&minus;table</option>) qualifier match at
        least one schema/table in the backup file.
       </para>
________________________________________________________-->
       <para>
        要求每个模式（<option>-n</option>/<option>--schema</option>）和表（<option>-t</option>/<option>--table</option>）限定符
        至少与备份文件中的一个模式/表匹配。
       </para>
<!-- pgdoc-cn_end sig_en=fa9a03f61d98ead6bad8d97c5f837b8b -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--use-set-session-authorization</option></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=38619d54a83b33b65f022ffa7e270087 sig_cn_org=97189919c67c6e36698d08de9a325bfa source=15.7 
       <para>
        Output SQL-standard <command>SET SESSION AUTHORIZATION</command> commands
        instead of <command>ALTER OWNER</command> commands to determine object
        ownership.  This makes the dump more standards-compatible, but
        depending on the history of the objects in the dump, might not restore
        properly.
       </para>
________________________________________________________-->
       <para>
        输出SQL标准的<command>SET SESSION AUTHORIZATION</command>命令，而不是<command>ALTER OWNER</command>命令来确定对象所有权。
        这样做可以使转储更符合标准，但根据转储中对象的历史，可能无法正确恢复。
       </para>
<!-- pgdoc-cn_end sig_en=38619d54a83b33b65f022ffa7e270087 -->
      </listitem>
     </varlistentry>

     <varlistentry>
       <term><option>-?</option></term>
       <term><option>--help</option></term>
       <listitem>
<!-- pgdoc-cn_start sig_en=2936246cb188bf26e246300aac5afcb3 sig_cn_org=bdbb4915944b011335aedb44cf536327 source=15.7 
       <para>
       Show help about <application>pg_restore</application> command line
       arguments, and exit.
       </para>
________________________________________________________-->
       <para>
       显示关于<application>pg_restore</application>命令行参数的帮助信息，并退出。
       </para>
<!-- pgdoc-cn_end sig_en=2936246cb188bf26e246300aac5afcb3 -->
       </listitem>
     </varlistentry>

    </variablelist>
   </para>

<!-- pgdoc-cn_start sig_en=300d75e0ed5bb62126bed052368c1ce4 sig_cn_org=None source=14.1 
   <para>
    <application>pg_restore</application> also accepts
    the following command line arguments for connection parameters:

    <variablelist>
     <varlistentry>
      <term><option>-h <replaceable class="parameter">host</replaceable></option></term>
      <term><option>-&minus;host=<replaceable class="parameter">host</replaceable></option></term>
      <listitem>
       <para>
        Specifies the host name of the machine on which the server is
        running.  If the value begins with a slash, it is used as the
        directory for the Unix domain socket. The default is taken
        from the <envar>PGHOST</envar> environment variable, if set,
        else a Unix domain socket connection is attempted.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-p <replaceable class="parameter">port</replaceable></option></term>
      <term><option>-&minus;port=<replaceable class="parameter">port</replaceable></option></term>
      <listitem>
       <para>
        Specifies the TCP port or local Unix domain socket file
        extension on which the server is listening for connections.
        Defaults to the <envar>PGPORT</envar> environment variable, if
        set, or a compiled-in default.
        </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-U <replaceable>username</replaceable></option></term>
      <term><option>-&minus;username=<replaceable class="parameter">username</replaceable></option></term>
      <listitem>
       <para>
        User name to connect as.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-w</option></term>
      <term><option>-&minus;no-password</option></term>
      <listitem>
       <para>
        Never issue a password prompt.  If the server requires
        password authentication and a password is not available by
        other means such as a <filename>.pgpass</filename> file, the
        connection attempt will fail.  This option can be useful in
        batch jobs and scripts where no user is present to enter a
        password.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-W</option></term>
      <term><option>-&minus;password</option></term>
      <listitem>
       <para>
        Force <application>pg_restore</application> to prompt for a
        password before connecting to a database.
       </para>

       <para>
        This option is never essential, since
        <application>pg_restore</application> will automatically prompt
        for a password if the server demands password authentication.
        However, <application>pg_restore</application> will waste a
        connection attempt finding out that the server wants a password.
        In some cases it is worth typing <option>-W</option> to avoid the extra
        connection attempt.
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-&minus;role=<replaceable class="parameter">rolename</replaceable></option></term>
      <listitem>
       <para>
        Specifies a role name to be used to perform the restore.
        This option causes <application>pg_restore</application> to issue a
        <command>SET ROLE</command> <replaceable class="parameter">rolename</replaceable>
        command after connecting to the database. It is useful when the
        authenticated user (specified by <option>-U</option>) lacks privileges
        needed by <application>pg_restore</application>, but can switch to a role with
        the required rights.  Some installations have a policy against
        logging in directly as a superuser, and use of this option allows
        restores to be performed without violating the policy.
       </para>
      </listitem>
     </varlistentry>

    </variablelist>
   </para>
________________________________________________________-->
   <para>
    <application>pg_restore</application>也接受下列用于连接参数的命令行参数：

    <variablelist>
     <varlistentry>
      <term><option>-h <replaceable class="parameter">host</replaceable></option></term>
      <term><option>--host=<replaceable class="parameter">host</replaceable></option></term>
      <listitem>
       <para>
        指定服务器正在运行的机器的主机名。如果该值开始于一个斜线，它被用作一个 Unix 域套接字的目录。默认是从<envar>PGHOST</envar>环境变量中取得（如果被设置），否则将尝试一次 Unix 域套接字连接。
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-p <replaceable class="parameter">port</replaceable></option></term>
      <term><option>--port=<replaceable class="parameter">port</replaceable></option></term>
      <listitem>
       <para>
        指定服务器正在监听连接的 TCP 端口或本地 Unix 域套接字文件扩展名。默认是放在<envar>PGPORT</envar>环境变量中（如果被设置），否则使用编译在程序中的默认值。
        </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-U <replaceable>username</replaceable></option></term>
      <term><option>--username=<replaceable class="parameter">username</replaceable></option></term>
      <listitem>
       <para>
        要作为哪个用户连接。
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-w</option></term>
      <term><option>--no-password</option></term>
      <listitem>
       <para>
        不发出一个口令提示。如果服务器要求口令认证并且没有其他方式提供口令（例如一个<filename>.pgpass</filename>文件），那么连接尝试将失败。这个选项对于批处理任务和脚本有用，因为在其中没有一个用户来输入口令。
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>-W</option></term>
      <term><option>--password</option></term>
      <listitem>
       <para>
        强制<application>pg_restore</application>在连接到一个数据库之前提示要求一个口令。
       </para>

       <para>
        这个选项不是必须的，因为如果服务器要求口令认证，<application>pg_restore</application>将自动提示要求一个口令。但是，<application>pg_restore</application>将浪费一次连接尝试来发现服务器想要一个口令。在某些情况下，值得键入<option>-W</option>来避免额外的连接尝试。
       </para>
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><option>--role=<replaceable class="parameter">rolename</replaceable></option></term>
      <listitem>
       <para>
        指定一个用来创建该转储的角色名。这个选项导致<application>pg_restore</application>在连接到数据库后发出一个<command>SET ROLE</command> <replaceable class="parameter">rolename</replaceable>命令。当已认证用户（由<option>-U</option>指定）缺少<application>pg_restore</application>所需的特权但是能够切换到一个具有所需权利的角色时，这个选项很有用。一些安装有针对直接作为超级用户登录的策略，使用这个选项可以让转储在不违反该策略的前提下完成。
       </para>
      </listitem>
     </varlistentry>

    </variablelist>
   </para>
<!-- pgdoc-cn_end sig_en=300d75e0ed5bb62126bed052368c1ce4 -->
 </refsect1>


 <refsect1>
<!-- pgdoc-cn_start sig_en=3b1cdb4e9f7c411322dc1c76ca7f31f3 sig_cn_org=None source=14.1 
  <title>Environment</title>
________________________________________________________-->
  <title>环境</title>
<!-- pgdoc-cn_end sig_en=3b1cdb4e9f7c411322dc1c76ca7f31f3 -->

  <variablelist>
   <varlistentry>
    <term><envar>PGHOST</envar></term>
    <term><envar>PGOPTIONS</envar></term>
    <term><envar>PGPORT</envar></term>
    <term><envar>PGUSER</envar></term>

    <listitem>
<!-- pgdoc-cn_start sig_en=f7ab7b218ecca66806b20eda9af62912 sig_cn_org=None source=14.1 
     <para>
      Default connection parameters
     </para>
________________________________________________________-->
     <para>
      默认连接参数
     </para>
<!-- pgdoc-cn_end sig_en=f7ab7b218ecca66806b20eda9af62912 -->
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><envar>PG_COLOR</envar></term>
    <listitem>
<!-- pgdoc-cn_start sig_en=39edaf7f74e555fd049f4cbfdb1bb1dd sig_cn_org=None source=14.1 
     <para>
      Specifies whether to use color in diagnostic messages. Possible values
      are <literal>always</literal>, <literal>auto</literal> and
      <literal>never</literal>.
     </para>
________________________________________________________-->
     <para>
      规定在诊断消息中是否使用颜色。可能的值为<literal>always</literal>、 <literal>auto</literal>、<literal>never</literal>。
      <literal>never</literal>.
     </para>
<!-- pgdoc-cn_end sig_en=39edaf7f74e555fd049f4cbfdb1bb1dd -->
    </listitem>
   </varlistentry>
  </variablelist>

<!-- pgdoc-cn_start sig_en=0258cbc8fbc61a161378341f0eca2e75 sig_cn_org=None source=14.1 
  <para>
   This utility, like most other <productname>PostgreSQL</productname> utilities,
   also uses the environment variables supported by <application>libpq</application>
   (see <xref linkend="libpq-envars"/>).  However, it does not read
   <envar>PGDATABASE</envar> when a database name is not supplied.
  </para>
________________________________________________________-->
  <para>
   和大部分其他<productname>PostgreSQL</productname>工具相似，这个工具也使用<application>libpq</application>（见<xref linkend="libpq-envars"/>）支持的环境变量。
  </para>
<!-- pgdoc-cn_end sig_en=0258cbc8fbc61a161378341f0eca2e75 -->

 </refsect1>


 <refsect1 id="app-pgrestore-diagnostics">
<!-- pgdoc-cn_start sig_en=fcbfec7bdfdd5abe4ac8d6f255f7190f sig_cn_org=None source=14.1 
  <title>Diagnostics</title>
________________________________________________________-->
  <title>诊断</title>
<!-- pgdoc-cn_end sig_en=fcbfec7bdfdd5abe4ac8d6f255f7190f -->

<!-- pgdoc-cn_start sig_en=2ac364e8ce5a70cfc5caea6adcb9adb1 sig_cn_org=None source=14.1 
  <para>
   When a direct database connection is specified using the
   <option>-d</option> option, <application>pg_restore</application>
   internally executes <acronym>SQL</acronym> statements. If you have
   problems running <application>pg_restore</application>, make sure
   you are able to select information from the database using, for
   example, <xref linkend="app-psql"/>.  Also, any default connection
   settings and environment variables used by the
   <application>libpq</application> front-end library will apply.
  </para>
________________________________________________________-->
  <para>
   当使用<option>-d</option>选项指定一个直接数据库连接时，<application>pg_restore</application>在内部执行<command>SELECT</command>语句。如果你运行<application>pg_restore</application>时出现问题，确定你能够从正在使用的数据库中选择信息，例如<xref linkend="app-psql"/>。此外，<application>libpq</application>前端-后端库所使用的任何默认连接设置和环境变量都将适用。
  </para>
<!-- pgdoc-cn_end sig_en=2ac364e8ce5a70cfc5caea6adcb9adb1 -->
 </refsect1>


 <refsect1 id="app-pgrestore-notes">
<!-- pgdoc-cn_start sig_en=c44fa43baeb4f69a8a2aa1ea108c6e97 sig_cn_org=None source=14.1 
  <title>Notes</title>
________________________________________________________-->
  <title>注解</title>
<!-- pgdoc-cn_end sig_en=c44fa43baeb4f69a8a2aa1ea108c6e97 -->

<!-- pgdoc-cn_start sig_en=1dde591acbe46dc9291de9832eace39f sig_cn_org=None source=14.1 
  <para>
   If your installation has any local additions to the
   <literal>template1</literal> database, be careful to load the output of
   <application>pg_restore</application> into a truly empty database;
   otherwise you are likely to get errors due to duplicate definitions
   of the added objects.  To make an empty database without any local
   additions, copy from <literal>template0</literal> not <literal>template1</literal>, for example:
<programlisting>
CREATE DATABASE foo WITH TEMPLATE template0;
</programlisting>
  </para>
________________________________________________________-->
  <para>
   如果你的数据库集簇对于<literal>template1</literal>数据库有任何本地添加，要注意将<application>pg_restore</application>的输出载入到一个真正的空数据库。否则你很可能由于以增加对象的重复定义而得到错误。要创建一个不带任何本地添加的空数据库，从<literal>template0</literal>而不是<literal>template1</literal>复制它，例如：
<programlisting>
CREATE DATABASE foo WITH TEMPLATE template0;
</programlisting>
  </para>
<!-- pgdoc-cn_end sig_en=1dde591acbe46dc9291de9832eace39f -->

<!-- pgdoc-cn_start sig_en=0dba71aece72e3216f45d4317cc3d58d sig_cn_org=None source=14.1 
  <para>
   The limitations of <application>pg_restore</application> are detailed below.

   <itemizedlist>
    <listitem>
     <para>
      When restoring data to a pre-existing table and the option
      <option>-&minus;disable-triggers</option> is used,
      <application>pg_restore</application> emits commands
      to disable triggers on user tables before inserting the data, then emits commands to
      re-enable them after the data has been inserted.  If the restore is stopped in the
      middle, the system catalogs might be left in the wrong state.
     </para>
    </listitem>

    <listitem>
     <para><application>pg_restore</application> cannot restore large objects
      selectively;  for instance, only those for a specific table.  If
      an archive contains large objects, then all large objects will be
      restored, or none of them if they are excluded via <option>-L</option>,
      <option>-t</option>, or other options.
     </para>
    </listitem>

   </itemizedlist>
  </para>
________________________________________________________-->
  <para>
   下面将详细介绍<application>pg_restore</application>的局限性。

   <itemizedlist>
    <listitem>
     <para>
      在恢复数据到一个已经存在的表中并且使用了选项<option>--disable-triggers</option>时，<application>pg_restore</application>会在插入数据之前发出命令禁用用户表上的触发器，然后在完成数据插入后重新启用它们。如果恢复在中途停止，可能会让系统目录处于错误的状态。
     </para>
    </listitem>

    <listitem>
     <para><application>pg_restore</application>不能有选择地恢复大对象，例如只恢复特定表的大对象。如果一个归档包含大对象，那么所有的大对象都会被恢复，如果通过<option>-L</option>、<option>-t</option>或者其他选项进行了排除，它们一个也不会被恢复。
     </para>
    </listitem>

   </itemizedlist>
  </para>
<!-- pgdoc-cn_end sig_en=0dba71aece72e3216f45d4317cc3d58d -->

<!-- pgdoc-cn_start sig_en=70da7e74a9db707a2912bb77d3b4bea4 sig_cn_org=None source=14.1 
  <para>
   See also the <xref linkend="app-pgdump"/> documentation for details on
   limitations of <application>pg_dump</application>.
  </para>
________________________________________________________-->
  <para>
   <application>pg_dump</application>的局限性详见<xref linkend="app-pgdump"/>文档。
  </para>
<!-- pgdoc-cn_end sig_en=70da7e74a9db707a2912bb77d3b4bea4 -->

<!-- pgdoc-cn_start sig_en=34a6de684970f19ee392641362c66275 sig_cn_org=None source=14.1 
  <para>
   Once restored, it is wise to run <command>ANALYZE</command> on each
   restored table so the optimizer has useful statistics; see
   <xref linkend="vacuum-for-statistics"/> and
   <xref linkend="autovacuum"/> for more information.
  </para>
________________________________________________________-->
  <para>
   一旦完成恢复，应该在每一个被恢复的表上运行<command>ANALYZE</command>，这样优化器能得到有用的统计信息。更多信息请见<xref linkend="vacuum-for-statistics"/>和<xref linkend="autovacuum"/>。
  </para>
<!-- pgdoc-cn_end sig_en=34a6de684970f19ee392641362c66275 -->

 </refsect1>


 <refsect1 id="app-pgrestore-examples">
<!-- pgdoc-cn_start sig_en=8f24ed0a9e4d47ffa2be9a1f3e09fa6d sig_cn_org=None source=14.1 
  <title>Examples</title>
________________________________________________________-->
  <title>示例</title>
<!-- pgdoc-cn_end sig_en=8f24ed0a9e4d47ffa2be9a1f3e09fa6d -->

<!-- pgdoc-cn_start sig_en=9492f52580417edf485a103022c084ca sig_cn_org=None source=14.1 
  <para>
   Assume we have dumped a database called <literal>mydb</literal> into a
   custom-format dump file:

<screen>
<prompt>$</prompt> <userinput>pg_dump -Fc mydb &gt; db.dump</userinput>
</screen>
  </para>
________________________________________________________-->
  <para>
   假设我们已经以自定义格式转储了一个叫做<literal>mydb</literal>的数据库：

<screen>
<prompt>$</prompt> <userinput>pg_dump -Fc mydb &gt; db.dump</userinput>
</screen>
  </para>
<!-- pgdoc-cn_end sig_en=9492f52580417edf485a103022c084ca -->

<!-- pgdoc-cn_start sig_en=199261e0b54a2b7271a523fe484e3ed4 sig_cn_org=None source=14.1 
  <para>
   To drop the database and recreate it from the dump:

<screen>
<prompt>$</prompt> <userinput>dropdb mydb</userinput>
<prompt>$</prompt> <userinput>pg_restore -C -d postgres db.dump</userinput>
</screen>

   The database named in the <option>-d</option> switch can be any database existing
   in the cluster; <application>pg_restore</application> only uses it to issue the
   <command>CREATE DATABASE</command> command for <literal>mydb</literal>.  With
   <option>-C</option>, data is always restored into the database name that appears
   in the dump file.
  </para>
________________________________________________________-->
  <para>
   要删除该数据库并且从转储中重新创建它：

<screen>
<prompt>$</prompt> <userinput>dropdb mydb</userinput>
<prompt>$</prompt> <userinput>pg_restore -C -d postgres db.dump</userinput>
</screen>

   <option>-d</option>开关中提到的数据库可以是任何已经存在于集簇中的数据库，<application>pg_restore</application>只会用它来为<literal>mydb</literal>发出<command>CREATE DATABASE</command>命令。通过<option>-C</option>，数据总是会被恢复到出现在归档文件的数据库名中。
  </para>
<!-- pgdoc-cn_end sig_en=199261e0b54a2b7271a523fe484e3ed4 -->

<!-- pgdoc-cn_start sig_en=f0d74a423643e629abc4ebb94f515f6d sig_cn_org=e5f74c111a9d12d3ba0634b653c4c7cd source=15.7 
  <para>
   To restore the dump into a new database called <literal>newdb</literal>:

<screen>
<prompt>$</prompt> <userinput>createdb -T template0 newdb</userinput>
<prompt>$</prompt> <userinput>pg_restore -d newdb db.dump</userinput>
</screen>

   Notice we don't use <option>-C</option>, and instead connect directly to the
   database to be restored into.  Also note that we clone the new database
   from <literal>template0</literal> not <literal>template1</literal>, to ensure it is
   initially empty.
  </para>
________________________________________________________-->
  <para>
   要将转储还原到名为<literal>newdb</literal>的新数据库中：

<screen>
<prompt>$</prompt> <userinput>createdb -T template0 newdb</userinput>
<prompt>$</prompt> <userinput>pg_restore -d newdb db.dump</userinput>
</screen>

   请注意，我们不使用<option>-C</option>，而是直接连接到要还原的数据库。
   还要注意，我们是从<literal>template0</literal>而不是<literal>template1</literal>克隆新数据库，
   以确保它最初是空的。
</para>
<!-- pgdoc-cn_end sig_en=f0d74a423643e629abc4ebb94f515f6d -->

<!-- pgdoc-cn_start sig_en=4652d915489278c178e7115ee821e18a sig_cn_org=None source=14.1 
  <para>
   To reorder database items, it is first necessary to dump the table of
   contents of the archive:
<screen>
<prompt>$</prompt> <userinput>pg_restore -l db.dump &gt; db.list</userinput>
</screen>
   The listing file consists of a header and one line for each item, e.g.:
<programlisting>
;
; Archive created at Mon Sep 14 13:55:39 2009
;     dbname: DBDEMOS
;     TOC Entries: 81
;     Compression: 9
;     Dump Version: 1.10-0
;     Format: CUSTOM
;     Integer: 4 bytes
;     Offset: 8 bytes
;     Dumped from database version: 8.3.5
;     Dumped by pg_dump version: 8.3.8
;
;
; Selected TOC Entries:
;
3; 2615 2200 SCHEMA - public pasha
1861; 0 0 COMMENT - SCHEMA public pasha
1862; 0 0 ACL - public pasha
317; 1247 17715 TYPE public composite pasha
319; 1247 25899 DOMAIN public domain0 pasha
</programlisting>
   Semicolons start a comment, and the numbers at the start of lines refer to the
   internal archive ID assigned to each item.
  </para>
________________________________________________________-->
  <para>
   要对数据库项重排序，首先需要转储归档的表内容：
<screen>
<prompt>$</prompt> <userinput>pg_restore -l db.dump &gt; db.list</userinput>
</screen>
   列表文件由一个头部和一些行组成，这些行每一个都用于一个项，例如：
<programlisting>
;
; Archive created at Mon Sep 14 13:55:39 2009
;     dbname: DBDEMOS
;     TOC Entries: 81
;     Compression: 9
;     Dump Version: 1.10-0
;     Format: CUSTOM
;     Integer: 4 bytes
;     Offset: 8 bytes
;     Dumped from database version: 8.3.5
;     Dumped by pg_dump version: 8.3.8
;
;
; Selected TOC Entries:
;
3; 2615 2200 SCHEMA - public pasha
1861; 0 0 COMMENT - SCHEMA public pasha
1862; 0 0 ACL - public pasha
317; 1247 17715 TYPE public composite pasha
319; 1247 25899 DOMAIN public domain0 pasha
</programlisting>
   分号表示开始一段注释，行首的数字表明了分配给每个项的内部归档 ID。
  </para>
<!-- pgdoc-cn_end sig_en=4652d915489278c178e7115ee821e18a -->

<!-- pgdoc-cn_start sig_en=490a5309876056c581681bd7364a1557 sig_cn_org=None source=14.1 
  <para>
   Lines in the file can be commented out, deleted, and reordered. For example:
<programlisting>
10; 145433 TABLE map_resolutions postgres
;2; 145344 TABLE species postgres
;4; 145359 TABLE nt_header postgres
6; 145402 TABLE species_records postgres
;8; 145416 TABLE ss_old postgres
</programlisting>
   could be used as input to <application>pg_restore</application> and would only restore
   items 10 and 6, in that order:
<screen>
<prompt>$</prompt> <userinput>pg_restore -L db.list db.dump</userinput>
</screen></para>
________________________________________________________-->
  <para>
   文件中的行可以被注释掉、删除以及重排序。例如：
<programlisting>
10; 145433 TABLE map_resolutions postgres
;2; 145344 TABLE species postgres
;4; 145359 TABLE nt_header postgres
6; 145402 TABLE species_records postgres
;8; 145416 TABLE ss_old postgres
</programlisting>
   把这样一个文件作为<application>pg_restore</application>的输入将会只恢复项 10 和 6，并且先恢复 10 再恢复 6。
<screen>
<prompt>$</prompt> <userinput>pg_restore -L db.list db.dump</userinput>
</screen></para>
<!-- pgdoc-cn_end sig_en=490a5309876056c581681bd7364a1557 -->

 </refsect1>

 <refsect1>
<!-- pgdoc-cn_start sig_en=8b7cc214676b443e6527e3d6bf054420 sig_cn_org=None source=14.1 
  <title>See Also</title>
________________________________________________________-->
  <title>另见</title>
<!-- pgdoc-cn_end sig_en=8b7cc214676b443e6527e3d6bf054420 -->

  <simplelist type="inline">
   <member><xref linkend="app-pgdump"/></member>
   <member><xref linkend="app-pg-dumpall"/></member>
   <member><xref linkend="app-psql"/></member>
  </simplelist>
 </refsect1>
</refentry>
