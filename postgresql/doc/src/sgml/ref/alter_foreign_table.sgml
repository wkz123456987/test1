<!--
doc/src/sgml/rel/alter_foreign_table.sgml
PostgreSQL documentation
-->

<refentry id="sql-alterforeigntable">
<!-- pgdoc-cn_start sig_en=89f1b67f5eea5424ccb89e52e98e9ed5 sig_cn_org=None source=14.1 
 <indexterm zone="sql-alterforeigntable">
  <primary>ALTER FOREIGN TABLE</primary>
 </indexterm>
________________________________________________________-->
 <indexterm zone="sql-alterforeigntable">
  <primary>ALTER FOREIGN TABLE</primary>
 </indexterm>
<!-- pgdoc-cn_end sig_en=89f1b67f5eea5424ccb89e52e98e9ed5 -->

 <refmeta>
  <refentrytitle>ALTER FOREIGN TABLE</refentrytitle>
  <manvolnum>7</manvolnum>
  <refmiscinfo>SQL - Language Statements</refmiscinfo>
 </refmeta>

<!-- pgdoc-cn_start sig_en=39aac7a2cfb2efd5a17a7736a9fce9ce sig_cn_org=None source=14.1 
 <refnamediv>
  <refname>ALTER FOREIGN TABLE</refname>
  <refpurpose>change the definition of a foreign table</refpurpose>
 </refnamediv>
________________________________________________________-->
 <refnamediv>
  <refname>ALTER FOREIGN TABLE</refname>
  <refpurpose>更改一个外部表的定义</refpurpose>
 </refnamediv>
<!-- pgdoc-cn_end sig_en=39aac7a2cfb2efd5a17a7736a9fce9ce -->

 <refsynopsisdiv>
<!-- pgdoc-cn_start sig_en=fabf877c96fbf3b3598e095e4011e044 sig_cn_org=None source=14.1 
<synopsis>
ALTER FOREIGN TABLE [ IF EXISTS ] [ ONLY ] <replaceable class="parameter">name</replaceable> [ * ]
    <replaceable class="parameter">action</replaceable> [, ... ]
ALTER FOREIGN TABLE [ IF EXISTS ] [ ONLY ] <replaceable class="parameter">name</replaceable> [ * ]
    RENAME [ COLUMN ] <replaceable class="parameter">column_name</replaceable> TO <replaceable class="parameter">new_column_name</replaceable>
ALTER FOREIGN TABLE [ IF EXISTS ] <replaceable class="parameter">name</replaceable>
    RENAME TO <replaceable class="parameter">new_name</replaceable>
ALTER FOREIGN TABLE [ IF EXISTS ] <replaceable class="parameter">name</replaceable>
    SET SCHEMA <replaceable class="parameter">new_schema</replaceable>

<phrase>where <replaceable class="parameter">action</replaceable> is one of:</phrase>

    ADD [ COLUMN ] <replaceable class="parameter">column_name</replaceable> <replaceable class="parameter">data_type</replaceable> [ COLLATE <replaceable class="parameter">collation</replaceable> ] [ <replaceable class="parameter">column_constraint</replaceable> [ ... ] ]
    DROP [ COLUMN ] [ IF EXISTS ] <replaceable class="parameter">column_name</replaceable> [ RESTRICT | CASCADE ]
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> [ SET DATA ] TYPE <replaceable class="parameter">data_type</replaceable> [ COLLATE <replaceable class="parameter">collation</replaceable> ]
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> SET DEFAULT <replaceable class="parameter">expression</replaceable>
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> DROP DEFAULT
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> { SET | DROP } NOT NULL
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> SET STATISTICS <replaceable class="parameter">integer</replaceable>
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> SET ( <replaceable class="parameter">attribute_option</replaceable> = <replaceable class="parameter">value</replaceable> [, ... ] )
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> RESET ( <replaceable class="parameter">attribute_option</replaceable> [, ... ] )
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> SET STORAGE { PLAIN | EXTERNAL | EXTENDED | MAIN }
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> OPTIONS ( [ ADD | SET | DROP ] <replaceable class="parameter">option</replaceable> ['<replaceable class="parameter">value</replaceable>'] [, ... ])
    ADD <replaceable class="parameter">table_constraint</replaceable> [ NOT VALID ]
    VALIDATE CONSTRAINT <replaceable class="parameter">constraint_name</replaceable>
    DROP CONSTRAINT [ IF EXISTS ]  <replaceable class="parameter">constraint_name</replaceable> [ RESTRICT | CASCADE ]
    DISABLE TRIGGER [ <replaceable class="parameter">trigger_name</replaceable> | ALL | USER ]
    ENABLE TRIGGER [ <replaceable class="parameter">trigger_name</replaceable> | ALL | USER ]
    ENABLE REPLICA TRIGGER <replaceable class="parameter">trigger_name</replaceable>
    ENABLE ALWAYS TRIGGER <replaceable class="parameter">trigger_name</replaceable>
    SET WITHOUT OIDS
    INHERIT <replaceable class="parameter">parent_table</replaceable>
    NO INHERIT <replaceable class="parameter">parent_table</replaceable>
    OWNER TO { <replaceable class="parameter">new_owner</replaceable> | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
    OPTIONS ( [ ADD | SET | DROP ] <replaceable class="parameter">option</replaceable> ['<replaceable class="parameter">value</replaceable>'] [, ... ])
</synopsis>
________________________________________________________-->
<synopsis>
ALTER FOREIGN TABLE [ IF EXISTS ] [ ONLY ] <replaceable class="parameter">name</replaceable> [ * ]
    <replaceable class="parameter">action</replaceable> [, ... ]
ALTER FOREIGN TABLE [ IF EXISTS ] [ ONLY ] <replaceable class="parameter">name</replaceable> [ * ]
    RENAME [ COLUMN ] <replaceable class="parameter">column_name</replaceable> TO <replaceable class="parameter">new_column_name</replaceable>
ALTER FOREIGN TABLE [ IF EXISTS ] <replaceable class="parameter">name</replaceable>
    RENAME TO <replaceable class="parameter">new_name</replaceable>
ALTER FOREIGN TABLE [ IF EXISTS ] <replaceable class="parameter">name</replaceable>
    SET SCHEMA <replaceable class="parameter">new_schema</replaceable>

<phrase>其中 <replaceable class="parameter">action</replaceable> 是以下之一：</phrase>

    ADD [ COLUMN ] <replaceable class="parameter">column_name</replaceable> <replaceable class="parameter">data_type</replaceable> [ COLLATE <replaceable class="parameter">collation</replaceable> ] [ <replaceable class="parameter">column_constraint</replaceable> [ ... ] ]
    DROP [ COLUMN ] [ IF EXISTS ] <replaceable class="parameter">column_name</replaceable> [ RESTRICT | CASCADE ]
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> [ SET DATA ] TYPE <replaceable class="parameter">data_type</replaceable> [ COLLATE <replaceable class="parameter">collation</replaceable> ]
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> SET DEFAULT <replaceable class="parameter">expression</replaceable>
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> DROP DEFAULT
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> { SET | DROP } NOT NULL
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> SET STATISTICS <replaceable class="parameter">integer</replaceable>
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> SET ( <replaceable class="parameter">attribute_option</replaceable> = <replaceable class="parameter">value</replaceable> [, ... ] )
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> RESET ( <replaceable class="parameter">attribute_option</replaceable> [, ... ] )
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> SET STORAGE { PLAIN | EXTERNAL | EXTENDED | MAIN }
    ALTER [ COLUMN ] <replaceable class="parameter">column_name</replaceable> OPTIONS ( [ ADD | SET | DROP ] <replaceable class="parameter">option</replaceable> ['<replaceable class="parameter">value</replaceable>'] [, ... ])
    ADD <replaceable class="parameter">table_constraint</replaceable> [ NOT VALID ]
    VALIDATE CONSTRAINT <replaceable class="parameter">constraint_name</replaceable>
    DROP CONSTRAINT [ IF EXISTS ]  <replaceable class="parameter">constraint_name</replaceable> [ RESTRICT | CASCADE ]
    DISABLE TRIGGER [ <replaceable class="parameter">trigger_name</replaceable> | ALL | USER ]
    ENABLE TRIGGER [ <replaceable class="parameter">trigger_name</replaceable> | ALL | USER ]
    ENABLE REPLICA TRIGGER <replaceable class="parameter">trigger_name</replaceable>
    ENABLE ALWAYS TRIGGER <replaceable class="parameter">trigger_name</replaceable>
    SET WITHOUT OIDS
    INHERIT <replaceable class="parameter">parent_table</replaceable>
    NO INHERIT <replaceable class="parameter">parent_table</replaceable>
    OWNER TO { <replaceable class="parameter">new_owner</replaceable> | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
    OPTIONS ( [ ADD | SET | DROP ] <replaceable class="parameter">option</replaceable> ['<replaceable class="parameter">value</replaceable>'] [, ... ])
</synopsis>
<!-- pgdoc-cn_end sig_en=fabf877c96fbf3b3598e095e4011e044 -->
 </refsynopsisdiv>

 <refsect1>
<!-- pgdoc-cn_start sig_en=59d6e86f3a60db4f1e08d0d6e639924e sig_cn_org=None source=14.1 
  <title>Description</title>
________________________________________________________-->
  <title>描述</title>
<!-- pgdoc-cn_end sig_en=59d6e86f3a60db4f1e08d0d6e639924e -->

<!-- pgdoc-cn_start sig_en=5a8f4006c67a61b457e5842ba6e08b7a sig_cn_org=None source=14.1 
  <para>
   <command>ALTER FOREIGN TABLE</command> changes the definition of an
   existing foreign table.  There are several subforms:

  <variablelist>
   <varlistentry>
    <term><literal>ADD COLUMN</literal></term>
    <listitem>
     <para>
      This form adds a new column to the foreign table, using the same syntax as
      <link linkend="sql-createforeigntable"><command>CREATE FOREIGN TABLE</command></link>.
      Unlike the case when adding a column to a regular table, nothing happens
      to the underlying storage: this action simply declares that
      some new column is now accessible through the foreign table.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>DROP COLUMN [ IF EXISTS ]</literal></term>
    <listitem>
     <para>
      This form drops a column from a foreign table.
      You will need to say <literal>CASCADE</literal> if
      anything outside the table depends on the column; for example,
      views.
      If <literal>IF EXISTS</literal> is specified and the column
      does not exist, no error is thrown. In this case a notice
      is issued instead.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET DATA TYPE</literal></term>
    <listitem>
     <para>
      This form changes the type of a column of a foreign table.
      Again, this has no effect on any underlying storage: this action simply
      changes the type that <productname>PostgreSQL</productname> believes the column to
      have.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET</literal>/<literal>DROP DEFAULT</literal></term>
    <listitem>
     <para>
      These forms set or remove the default value for a column.
      Default values only apply in subsequent <command>INSERT</command>
      or <command>UPDATE</command> commands; they do not cause rows already in the
      table to change.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET</literal>/<literal>DROP NOT NULL</literal></term>
    <listitem>
     <para>
      Mark a column as allowing, or not allowing, null values.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET STATISTICS</literal></term>
    <listitem>
     <para>
      This form
      sets the per-column statistics-gathering target for subsequent
      <link linkend="sql-analyze"><command>ANALYZE</command></link> operations.
      See the similar form of <link linkend="sql-altertable"><command>ALTER TABLE</command></link>
      for more details.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET ( <replaceable class="parameter">attribute_option</replaceable> = <replaceable class="parameter">value</replaceable> [, ... ] )</literal></term>
    <term><literal>RESET ( <replaceable class="parameter">attribute_option</replaceable> [, ... ] )</literal></term>
    <listitem>
     <para>
      This form sets or resets per-attribute options.
      See the similar form of <link linkend="sql-altertable"><command>ALTER TABLE</command></link>
      for more details.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term>
     <literal>SET STORAGE</literal>
    </term>
    <listitem>
     <para>
      This form sets the storage mode for a column.
      See the similar form of <link linkend="sql-altertable"><command>ALTER TABLE</command></link>
      for more details.
      Note that the storage mode has no effect unless the table's
      foreign-data wrapper chooses to pay attention to it.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>ADD <replaceable class="parameter">table_constraint</replaceable> [ NOT VALID ]</literal></term>
    <listitem>
     <para>
      This form adds a new constraint to a foreign table, using the same
      syntax as <link linkend="sql-createforeigntable"><command>CREATE FOREIGN TABLE</command></link>.
      Currently only <literal>CHECK</literal> constraints are supported.
     </para>

     <para>
      Unlike the case when adding a constraint to a regular table, nothing is
      done to verify the constraint is correct; rather, this action simply
      declares that some new condition should be assumed to hold for all rows
      in the foreign table.  (See the discussion
      in <link linkend="sql-createforeigntable"><command>CREATE FOREIGN TABLE</command></link>.)
      If the constraint is marked <literal>NOT VALID</literal>, then it isn't
      assumed to hold, but is only recorded for possible future use.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>VALIDATE CONSTRAINT</literal></term>
    <listitem>
     <para>
      This form marks as valid a constraint that was previously marked
      as <literal>NOT VALID</literal>.  No action is taken to verify the
      constraint, but future queries will assume that it holds.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>DROP CONSTRAINT [ IF EXISTS ]</literal></term>
    <listitem>
     <para>
      This form drops the specified constraint on a foreign table.
      If <literal>IF EXISTS</literal> is specified and the constraint
      does not exist, no error is thrown.
      In this case a notice is issued instead.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>DISABLE</literal>/<literal>ENABLE [ REPLICA | ALWAYS ] TRIGGER</literal></term>
    <listitem>
     <para>
      These forms configure the firing of trigger(s) belonging to the foreign
      table.  See the similar form of <link linkend="sql-altertable"><command>ALTER TABLE</command></link> for more
      details.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET WITHOUT OIDS</literal></term>
    <listitem>
     <para>
      Backward compatibility syntax for removing the <literal>oid</literal>
      system column. As <literal>oid</literal> system columns cannot be added
      anymore, this never has an effect.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>INHERIT <replaceable class="parameter">parent_table</replaceable></literal></term>
    <listitem>
     <para>
      This form adds the target foreign table as a new child of the specified
      parent table.
      See the similar form of <link linkend="sql-altertable"><command>ALTER TABLE</command></link>
      for more details.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>NO INHERIT <replaceable class="parameter">parent_table</replaceable></literal></term>
    <listitem>
     <para>
      This form removes the target foreign table from the list of children of
      the specified parent table.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>OWNER</literal></term>
    <listitem>
     <para>
      This form changes the owner of the foreign table to the
      specified user.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>OPTIONS ( [ ADD | SET | DROP ] <replaceable class="parameter">option</replaceable> ['<replaceable class="parameter">value</replaceable>'] [, ... ] )</literal></term>
    <listitem>
     <para>
      Change options for the foreign table or one of its columns.
      <literal>ADD</literal>, <literal>SET</literal>, and <literal>DROP</literal>
      specify the action to be performed.  <literal>ADD</literal> is assumed
      if no operation is explicitly specified.  Duplicate option names are not
      allowed (although it's OK for a table option and a column option to have
      the same name).  Option names and values are also validated using the
      foreign data wrapper library.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>RENAME</literal></term>
    <listitem>
     <para>
      The <literal>RENAME</literal> forms change the name of a foreign table
      or the name of an individual column in a foreign table.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET SCHEMA</literal></term>
    <listitem>
     <para>
      This form moves the foreign table into another schema.
     </para>
    </listitem>
   </varlistentry>

  </variablelist>
  </para>
________________________________________________________-->
  <para>
   <command>ALTER FOREIGN TABLE</command>更改一个现有外部表的定义。
   有几种子形式：

  <variablelist>
   <varlistentry>
    <term><literal>ADD COLUMN</literal></term>
    <listitem>
     <para>
      这种形式使用与<link linkend="sql-createforeigntable"><command>CREATE FOREIGN TABLE</command></link>相同的语法把
      一个新的列增加到该外部表。和为常规表增加一列不同，这种形式并不影响底层
      的存储：这个动作只是简单地声明通过该外部表可以访问某个新的列而已。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>DROP COLUMN [ IF EXISTS ]</literal></term>
    <listitem>
     <para>
      这种形式从一个外部表删掉一列。如果在该表外部有任何东西依赖于该列，
      你将需要写上<literal>CASCADE</literal>，典型的例子就是视图。如果指定了
      <literal>IF EXISTS</literal>并且该列不存在，将不会抛出错误。在这种
      情况下会转而发出一个提示。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET DATA TYPE</literal></term>
    <listitem>
     <para>
      这种形式更改一个外部表的一列的类型。同样，这种形式并不影响底层
      的存储：这个动作只是简单地更改<productname>PostgreSQL</productname>
      相信该列所具有的类型。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET</literal>/<literal>DROP DEFAULT</literal></term>
    <listitem>
     <para>
      这些形式设置或者移除一列的默认值。默认值只会应用于后续的
      <command>INSERT</command>或<command>UPDATE</command>命令，它们
      不会导致已经在表中的行被更改。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET</literal>/<literal>DROP NOT NULL</literal></term>
    <listitem>
     <para>
      把一列标记为允许或者不允许空值。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET STATISTICS</literal></term>
    <listitem>
     <para>
      这种形式为后续的<link linkend="sql-analyze"><command>ANALYZE</command></link>操作设置针对每列
      的统计收集目标。详见<link linkend="sql-altertable"><command>ALTER TABLE</command></link>的类似形式。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET ( <replaceable class="parameter">attribute_option</replaceable> = <replaceable class="parameter">value</replaceable> [, ... ] )</literal></term>
    <term><literal>RESET ( <replaceable class="parameter">attribute_option</replaceable> [, ... ] )</literal></term>
    <listitem>
     <para>
      这种形式设置或重置针对每个属性的选项。详见<link linkend="sql-altertable"><command>ALTER TABLE</command></link>
      的类似形式。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term>
     <literal>SET STORAGE</literal>
    </term>
    <listitem>
     <para>
      这种形式设置一个列的存储模式。详见
      <link linkend="sql-altertable"><command>ALTER TABLE</command></link>中类似的模式。注意存储模式
      不会产生效果，除非该表的外部数据包装器选择处理它。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>ADD <replaceable class="parameter">table_constraint</replaceable> [ NOT VALID ]</literal></term>
    <listitem>
     <para>
      这种形式为外部表增加一个新的约束，使用的语法和
      <link linkend="sql-createforeigntable"><command>CREATE FOREIGN TABLE</command></link>中相同。当前只
      支持<literal>CHECK</literal>约束。
     </para>

     <para>
      和向常规表增加约束的情况不同，为外部表增加约束时不会做任何事情来
      验证该约束是否正确。这个动作只是简单地声明了该外部表中所有的行都
      应该满足的某种新的条件（见
      <link linkend="sql-createforeigntable"><command>CREATE FOREIGN TABLE</command></link>中的讨论）。如果该
      约束被标记为<literal>NOT VALID</literal>，那么它不被假设为有效，而只是
      被记录下来以备未来使用。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>VALIDATE CONSTRAINT</literal></term>
    <listitem>
     <para>
      这种形式把一个之前被标记为<literal>NOT VALID</literal>的约束标
      记为有效。不会做任何动作来验证该约束，但是未来的查询将会假定该
      约束是保持的。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>DROP CONSTRAINT [ IF EXISTS ]</literal></term>
    <listitem>
     <para>
      这种形式删掉在一个外部表上的指定约束。如果指定了
      <literal>IF EXISTS</literal>但约束并不存在，则不会抛出错误。
      在这种情况下会发出一个提示。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>DISABLE</literal>/<literal>ENABLE [ REPLICA | ALWAYS ] TRIGGER</literal></term>
    <listitem>
     <para>
      这些形式配置属于该外部表的触发器的触发情况。详见
      <link linkend="sql-altertable"><command>ALTER TABLE</command></link>的类似形式。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET WITHOUT OIDS</literal></term>
    <listitem>
     <para>
      向后兼容性语法，表示移除<literal>oid</literal>系统列。
      由于不能再为外部表添加<literal>oid</literal>系统列，此语句不再产生效用。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>INHERIT <replaceable class="parameter">parent_table</replaceable></literal></term>
    <listitem>
     <para>
      这种形式把目标外部表作为指定的父表的新后代。详见
      <link linkend="sql-altertable"><command>ALTER TABLE</command></link>的类似的形式。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>NO INHERIT <replaceable class="parameter">parent_table</replaceable></literal></term>
    <listitem>
     <para>
      这种形式把目标外部表从指定的父表的子女列表中移除。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>OWNER</literal></term>
    <listitem>
     <para>
      这种形式把该外部表的拥有者改成指定的用户。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>OPTIONS ( [ ADD | SET | DROP ] <replaceable class="parameter">option</replaceable> ['<replaceable class="parameter">value</replaceable>'] [, ... ] )</literal></term>
    <listitem>
     <para>
      更改该外部表或者其中一个列的选项。<literal>ADD</literal>、<literal>SET</literal>
      以及<literal>DROP</literal>指定要执行的动作。如果没有显式地指定操作，将假定
      为<literal>ADD</literal>。不允许重复的名称（不过一个表选项和一个列选项可以重
      名）。选项名称和值也会用外部数据包装器库来验证。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>RENAME</literal></term>
    <listitem>
     <para>
      <literal>RENAME</literal>形式更改外部表的名称或者外
      部表中一个列的名称。
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term><literal>SET SCHEMA</literal></term>
    <listitem>
     <para>
      这种形式把外部表移动到另一个模式中。
     </para>
    </listitem>
   </varlistentry>

  </variablelist>
  </para>
<!-- pgdoc-cn_end sig_en=5a8f4006c67a61b457e5842ba6e08b7a -->

<!-- pgdoc-cn_start sig_en=735ef69e02d2fef12db595a412947dc2 sig_cn_org=None source=14.1 
  <para>
   All the actions except <literal>RENAME</literal> and <literal>SET SCHEMA</literal>
   can be combined into
   a list of multiple alterations to apply in parallel.  For example, it
   is possible to add several columns and/or alter the type of several
   columns in a single command.
  </para>
________________________________________________________-->
  <para>
   所有除了<literal>RENAME</literal>和<literal>SET SCHEMA</literal>的
   动作都能被整合到一个多修改列表以便能被并行应用。例如，可以在一个
   命令中增加几个列并且/或者修改几个列的类型。
  </para>
<!-- pgdoc-cn_end sig_en=735ef69e02d2fef12db595a412947dc2 -->

<!-- pgdoc-cn_start sig_en=33e4a361e24cdb4bc915171bb8094c9a sig_cn_org=None source=14.1 
  <para>
   If the command is written as <literal>ALTER FOREIGN TABLE IF EXISTS ...</literal>
   and the foreign table does not exist, no error is thrown. A notice is
   issued in this case.
  </para>
________________________________________________________-->
  <para>
   如果该命令被写作<literal>ALTER FOREIGN TABLE IF EXISTS ...</literal>并且
   该外部表不存在，则不会抛出错误。这种情况下会发出一个提示。
  </para>
<!-- pgdoc-cn_end sig_en=33e4a361e24cdb4bc915171bb8094c9a -->

<!-- pgdoc-cn_start sig_en=9f7375de37a625425b3b365bd4d7f477 sig_cn_org=None source=14.1 
  <para>
   You must own the table to use <command>ALTER FOREIGN TABLE</command>.
   To change the schema of a foreign table, you must also have
   <literal>CREATE</literal> privilege on the new schema.
   To alter the owner, you must also be a direct or indirect member of the new
   owning role, and that role must have <literal>CREATE</literal> privilege on
   the table's schema.  (These restrictions enforce that altering the owner
   doesn't do anything you couldn't do by dropping and recreating the table.
   However, a superuser can alter ownership of any table anyway.)
   To add a column or alter a column type, you must also
   have <literal>USAGE</literal> privilege on the data type.
  </para>
________________________________________________________-->
  <para>
   你必须拥有该表以使用<command>ALTER FOREIGN TABLE</command>。要更改一个
   外部表的模式，你必须还拥有新模式上的<literal>CREATE</literal>特权。要
   更改拥有者，你还必须是新拥有角色的一个直接或者间接成员，并且该角色必须
   具有在该表的模式上的<literal>CREATE</literal>特权（这些限制强制修改拥有
   者不能做一些通过删除和重建该表做不到的事情。不过，一个超级用户怎么都能
   更改任何表的所有权）。要增加一列或者修改一个列的类型，你还必须具有该数
   据类型上的<literal>USAGE</literal>特权。
  </para>
<!-- pgdoc-cn_end sig_en=9f7375de37a625425b3b365bd4d7f477 -->
 </refsect1>

 <refsect1>
<!-- pgdoc-cn_start sig_en=55f21f3bddee6a8d223aa24ab57d80dc sig_cn_org=None source=14.1 
  <title>Parameters</title>
________________________________________________________-->
  <title>参数</title>
<!-- pgdoc-cn_end sig_en=55f21f3bddee6a8d223aa24ab57d80dc -->

    <variablelist>

     <varlistentry>
      <term><replaceable class="parameter">name</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=af750f3925f3319708d58a83778d4ebe sig_cn_org=None source=14.1 
       <para>
        The name (possibly schema-qualified) of an existing foreign table to
        alter. If <literal>ONLY</literal> is specified before the table name, only
        that table is altered. If <literal>ONLY</literal> is not specified, the table
        and all its descendant tables (if any) are altered.  Optionally,
        <literal>*</literal> can be specified after the table name to explicitly
        indicate that descendant tables are included.
       </para>
________________________________________________________-->
       <para>
        一个要修改的现有外部表的名称（可以被模式限定）。如果在表名前指定了
        <literal>ONLY</literal>，则只有该表被修改。如果没有指定<literal>ONLY</literal>，
        该表和它所有的后代表（如果有）都会被修改。可选地，在表名后面指定
        <literal>*</literal>可以显式地表示将后代表包括在内。
       </para>
<!-- pgdoc-cn_end sig_en=af750f3925f3319708d58a83778d4ebe -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">column_name</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=2471886eb87a57f68af65dacf9e7f036 sig_cn_org=None source=14.1 
       <para>
        Name of a new or existing column.
       </para>
________________________________________________________-->
       <para>
        一个新的或者现有列的名称。
       </para>
<!-- pgdoc-cn_end sig_en=2471886eb87a57f68af65dacf9e7f036 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">new_column_name</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=2931d56c192444f3f5ee06c09c4065a5 sig_cn_org=None source=14.1 
       <para>
        New name for an existing column.
       </para>
________________________________________________________-->
       <para>
        一个现有列的新名称。
       </para>
<!-- pgdoc-cn_end sig_en=2931d56c192444f3f5ee06c09c4065a5 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">new_name</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=9df91ca96cfed85b771970c88e2022f8 sig_cn_org=None source=14.1 
       <para>
        New name for the table.
       </para>
________________________________________________________-->
       <para>
        该表的新名称。
       </para>
<!-- pgdoc-cn_end sig_en=9df91ca96cfed85b771970c88e2022f8 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">data_type</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=9276abecd42d179ec8c876af6a543053 sig_cn_org=None source=14.1 
       <para>
        Data type of the new column, or new data type for an existing
        column.
       </para>
________________________________________________________-->
       <para>
        新列的数据类型或者一个现有列的新数据类型。
       </para>
<!-- pgdoc-cn_end sig_en=9276abecd42d179ec8c876af6a543053 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">table_constraint</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=e17b9511c41858c504203282851514dd sig_cn_org=None source=14.1 
       <para>
        New table constraint for the foreign table.
       </para>
________________________________________________________-->
       <para>
        New table constraint for the foreign table.
       </para>
<!-- pgdoc-cn_end sig_en=e17b9511c41858c504203282851514dd -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">constraint_name</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=7880262112f6810c76a7e55feddbeeb6 sig_cn_org=None source=14.1 
       <para>
        Name of an existing constraint to drop.
       </para>
________________________________________________________-->
       <para>
        Name of an existing constraint to drop.
       </para>
<!-- pgdoc-cn_end sig_en=7880262112f6810c76a7e55feddbeeb6 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>CASCADE</literal></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=77bdc070eddae873ed08a629a30ebe9b sig_cn_org=None source=14.1 
       <para>
        Automatically drop objects that depend on the dropped column
        or constraint (for example, views referencing the column),
        and in turn all objects that depend on those objects
        (see <xref linkend="ddl-depend"/>).
       </para>
________________________________________________________-->
       <para>
        自动删除依赖于被删除列或约束的对象（例如，引用该列的视图），
        并且接着删除依赖于那些对象的
        所有对象（见<xref linkend="ddl-depend"/>）。
       </para>
<!-- pgdoc-cn_end sig_en=77bdc070eddae873ed08a629a30ebe9b -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>RESTRICT</literal></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=b848a3a7358fc189c2cfb4a94cd4be0d sig_cn_org=None source=14.1 
       <para>
        Refuse to drop the column or constraint if there are any dependent
        objects. This is the default behavior.
       </para>
________________________________________________________-->
       <para>
        如果有任何依赖对象就拒绝删除该列或约束。这是默认行为。
       </para>
<!-- pgdoc-cn_end sig_en=b848a3a7358fc189c2cfb4a94cd4be0d -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">trigger_name</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=e0e220c919d821a8a61c0c73c3837b6b sig_cn_org=None source=14.1 
       <para>
        Name of a single trigger to disable or enable.
       </para>
________________________________________________________-->
       <para>
        要禁用或启用的一个触发器的名称。
       </para>
<!-- pgdoc-cn_end sig_en=e0e220c919d821a8a61c0c73c3837b6b -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>ALL</literal></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=87f8933e17e6cb01601b30a4d5fbf81b sig_cn_org=None source=14.1 
       <para>
        Disable or enable all triggers belonging to the foreign table.  (This
        requires superuser privilege if any of the triggers are internally
        generated triggers.  The core system does not add such triggers to
        foreign tables, but add-on code could do so.)
       </para>
________________________________________________________-->
       <para>
        禁用或者启用所有属于该外部表的触发器（如果任何触发器是内部生成
        的触发器，这都要求超级用户特权。核心系统不会向外部表增加这类触发
        器，但是附加代码会这样做。）。
       </para>
<!-- pgdoc-cn_end sig_en=87f8933e17e6cb01601b30a4d5fbf81b -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><literal>USER</literal></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=a8ee6afdb508b1ceda8eba19d9eff6d5 sig_cn_org=None source=14.1 
       <para>
        Disable or enable all triggers belonging to the foreign table except
        for internally generated triggers.
       </para>
________________________________________________________-->
       <para>
        禁用或者启用属于该外部表的除了内部生成的触发器之外的所有触发器。
       </para>
<!-- pgdoc-cn_end sig_en=a8ee6afdb508b1ceda8eba19d9eff6d5 -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">parent_table</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=7ac012d6646807a8ff7f16e01d1ce85b sig_cn_org=None source=14.1 
       <para>
        A parent table to associate or de-associate with this foreign table.
       </para>
________________________________________________________-->
       <para>
        要与这个外部表关联或者解除关联的父表。
       </para>
<!-- pgdoc-cn_end sig_en=7ac012d6646807a8ff7f16e01d1ce85b -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">new_owner</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=c031aaa0cc41bdda7a6290e6e1d8893a sig_cn_org=None source=14.1 
       <para>
        The user name of the new owner of the table.
       </para>
________________________________________________________-->
       <para>
        该表的新拥有者的用户名。
       </para>
<!-- pgdoc-cn_end sig_en=c031aaa0cc41bdda7a6290e6e1d8893a -->
      </listitem>
     </varlistentry>

     <varlistentry>
      <term><replaceable class="parameter">new_schema</replaceable></term>
      <listitem>
<!-- pgdoc-cn_start sig_en=785b548a95c0ae5d7b948a1cdddf9898 sig_cn_org=None source=14.1 
       <para>
        The name of the schema to which the table will be moved.
       </para>
________________________________________________________-->
       <para>
        该表要被移动到其中的模式的名称。
       </para>
<!-- pgdoc-cn_end sig_en=785b548a95c0ae5d7b948a1cdddf9898 -->
      </listitem>
     </varlistentry>
    </variablelist>
 </refsect1>

 <refsect1>
<!-- pgdoc-cn_start sig_en=c44fa43baeb4f69a8a2aa1ea108c6e97 sig_cn_org=None source=14.1 
  <title>Notes</title>
________________________________________________________-->
  <title>注解</title>
<!-- pgdoc-cn_end sig_en=c44fa43baeb4f69a8a2aa1ea108c6e97 -->

<!-- pgdoc-cn_start sig_en=6281a8def45d03e5fe8b0907d649b9cb sig_cn_org=None source=14.1 
   <para>
    The key word <literal>COLUMN</literal> is noise and can be omitted.
   </para>
________________________________________________________-->
   <para>
    关键词<literal>COLUMN</literal>是噪声词并且可以被忽略。
   </para>
<!-- pgdoc-cn_end sig_en=6281a8def45d03e5fe8b0907d649b9cb -->

<!-- pgdoc-cn_start sig_en=2f1b87d19b70766ad9734494e7306c4b sig_cn_org=None source=14.1 
   <para>
    Consistency with the foreign server is not checked when a column is added
    or removed with <literal>ADD COLUMN</literal> or
    <literal>DROP COLUMN</literal>, a <literal>NOT NULL</literal>
    or <literal>CHECK</literal> constraint is added, or a column type is changed
    with <literal>SET DATA TYPE</literal>.  It is the user's responsibility to ensure
    that the table definition matches the remote side.
   </para>
________________________________________________________-->
   <para>
    当使用<literal>ADD COLUMN</literal>或
    <literal>DROP COLUMN</literal>增加或移除一列、增加一个<literal>NOT NULL</literal>
    或者<literal>CHECK</literal>
    约束或者用<literal>SET DATA TYPE</literal>更改一个列类型时，不会检查与外部服务器的一
    致性。确保该表定义匹配远端是用户的责任。
   </para>
<!-- pgdoc-cn_end sig_en=2f1b87d19b70766ad9734494e7306c4b -->

<!-- pgdoc-cn_start sig_en=0dd79dab4a598e5accebde2de537dbe8 sig_cn_org=None source=14.1 
   <para>
    Refer to <link linkend="sql-createforeigntable"><command>CREATE FOREIGN TABLE</command></link> for a further description of valid
    parameters.
   </para>
________________________________________________________-->
   <para>
    关于有效参数的进一步描述可参考<link linkend="sql-createforeigntable"><command>CREATE FOREIGN TABLE</command></link>。
   </para>
<!-- pgdoc-cn_end sig_en=0dd79dab4a598e5accebde2de537dbe8 -->
 </refsect1>

 <refsect1>
<!-- pgdoc-cn_start sig_en=8f24ed0a9e4d47ffa2be9a1f3e09fa6d sig_cn_org=None source=14.1 
  <title>Examples</title>
________________________________________________________-->
  <title>示例</title>
<!-- pgdoc-cn_end sig_en=8f24ed0a9e4d47ffa2be9a1f3e09fa6d -->

<!-- pgdoc-cn_start sig_en=b01323c1f4bf2d9e11e8b55d0739b85a sig_cn_org=None source=14.1 
  <para>
   To mark a column as not-null:
<programlisting>
ALTER FOREIGN TABLE distributors ALTER COLUMN street SET NOT NULL;
</programlisting>
  </para>
________________________________________________________-->
  <para>
   要把一列标记为非空：
<programlisting>
ALTER FOREIGN TABLE distributors ALTER COLUMN street SET NOT NULL;
</programlisting>
  </para>
<!-- pgdoc-cn_end sig_en=b01323c1f4bf2d9e11e8b55d0739b85a -->

<!-- pgdoc-cn_start sig_en=e6b85646c48f9f5f45f19a93ec5ce480 sig_cn_org=4a7d0b6c1bcab82a4f8dc6ff3385e78a source=15.7 
  <para>
   To change options of a foreign table:
<programlisting>
ALTER FOREIGN TABLE myschema.distributors OPTIONS (ADD opt1 'value', SET opt2 'value2', DROP opt3);
</programlisting></para>
________________________________________________________-->
  <para>
   要更改外部表的选项：
<programlisting>
ALTER FOREIGN TABLE myschema.distributors OPTIONS (ADD opt1 'value', SET opt2 'value2', DROP opt3);
</programlisting>
</para>
<!-- pgdoc-cn_end sig_en=e6b85646c48f9f5f45f19a93ec5ce480 -->

 </refsect1>

 <refsect1>
<!-- pgdoc-cn_start sig_en=b38d493f3c2d2d5d9a7a49d257da9811 sig_cn_org=None source=14.1 
  <title>Compatibility</title>
________________________________________________________-->
  <title>兼容性</title>
<!-- pgdoc-cn_end sig_en=b38d493f3c2d2d5d9a7a49d257da9811 -->

<!-- pgdoc-cn_start sig_en=68663a743ff291c47950c96afc3ff665 sig_cn_org=None source=14.1 
  <para>
   The forms <literal>ADD</literal>, <literal>DROP</literal>,
   and <literal>SET DATA TYPE</literal>
   conform with the SQL standard.  The other forms are
   <productname>PostgreSQL</productname> extensions of the SQL standard.
   Also, the ability to specify more than one manipulation in a single
   <command>ALTER FOREIGN TABLE</command> command is an extension.
  </para>
________________________________________________________-->
  <para>
   形式<literal>ADD</literal>、<literal>DROP</literal>以及
   <literal>SET DATA TYPE</literal>符合 SQL 标准。其他形式是 SQL 标准的
   <productname>PostgreSQL</productname>扩展。在一个
   <command>ALTER FOREIGN TABLE</command>命令中指定多于一个操作也是一种扩展。
  </para>
<!-- pgdoc-cn_end sig_en=68663a743ff291c47950c96afc3ff665 -->

<!-- pgdoc-cn_start sig_en=12778729ebff752385d4535ace914ff4 sig_cn_org=None source=14.1 
  <para>
   <command>ALTER FOREIGN TABLE DROP COLUMN</command> can be used to drop the only
   column of a foreign table, leaving a zero-column table.  This is an
   extension of SQL, which disallows zero-column foreign tables.
  </para>
________________________________________________________-->
  <para>
   <command>ALTER FOREIGN TABLE DROP COLUMN</command>可以被用来删除
   一个外部表的唯一一列，从而留下一个没有列的表。这是一种 SQL 的扩展，它
   允许没有列的外部表。
  </para>
<!-- pgdoc-cn_end sig_en=12778729ebff752385d4535ace914ff4 -->
 </refsect1>

 <refsect1>
<!-- pgdoc-cn_start sig_en=8b7cc214676b443e6527e3d6bf054420 sig_cn_org=None source=14.1 
  <title>See Also</title>
________________________________________________________-->
  <title>另见</title>
<!-- pgdoc-cn_end sig_en=8b7cc214676b443e6527e3d6bf054420 -->

  <simplelist type="inline">
   <member><xref linkend="sql-createforeigntable"/></member>
   <member><xref linkend="sql-dropforeigntable"/></member>
  </simplelist>
 </refsect1>
</refentry>
